import{a2 as Ve,a3 as ae,a4 as Ye,a5 as we,a6 as je,a7 as Xe,r as p,j as R,M as e,H as J,a8 as Fe,o as se,a9 as Ue,f as ke,aa as Ge,ab as Ke,ac as qe,K as xe,d as ne,ad as Te,ae as Qe,t as T,v as N,af as fe,A as X,U as ee,x as c,ag as D,ah as Z,z as V,Q as ve,ai as Je,X as te,aj as _e,N as F,ak as Ze,al as Se,am as Ee,O as U,P as G,y as K,an as Me,ao as et,ap as tt,aq as Ne,ar as nt,as as at,at as st,u as ot,i as rt,B as oe,a0 as lt}from"./OphSlgzW.js";import{u as it}from"./BoCtLvbH.js";import{f as ut}from"./CRm-jryX.js";import{u as ct}from"./CvUQX6fZ.js";import{u as dt}from"./V0rQbDCV.js";import{u as ft}from"./C5f0-rp9.js";var vt=/\s/;function mt(t){for(var d=t.length;d--&&vt.test(t.charAt(d)););return d}var ht=/^\s+/;function gt(t){return t&&t.slice(0,mt(t)+1).replace(ht,"")}var ye=NaN,pt=/^[-+]0x[0-9a-f]+$/i,_t=/^0b[01]+$/i,yt=/^0o[0-7]+$/i,bt=parseInt;function be(t){if(typeof t=="number")return t;if(Ve(t))return ye;if(ae(t)){var d=typeof t.valueOf=="function"?t.valueOf():t;t=ae(d)?d+"":d}if(typeof t!="string")return t===0?t:+t;t=gt(t);var o=_t.test(t);return o||yt.test(t)?bt(t.slice(2),o?2:8):pt.test(t)?ye:+t}var de=function(){return Ye.Date.now()},Ct="Expected a function",It=Math.max,wt=Math.min;function kt(t,d,o){var r,g,_,C,a,h,u=0,f=!1,w=!1,k=!0;if(typeof t!="function")throw new TypeError(Ct);d=be(d)||0,ae(o)&&(f=!!o.leading,w="maxWait"in o,_=w?It(be(o.maxWait)||0,d):_,k="trailing"in o?!!o.trailing:k);function y(i){var m=r,I=g;return r=g=void 0,u=i,C=t.apply(I,m),C}function b(i){return u=i,a=setTimeout(E,d),f?y(i):C}function L(i){var m=i-h,I=i-u,B=d-m;return w?wt(B,_-I):B}function A(i){var m=i-h,I=i-u;return h===void 0||m>=d||m<0||w&&I>=_}function E(){var i=de();if(A(i))return $(i);a=setTimeout(E,L(i))}function $(i){return a=void 0,k&&r?y(i):(r=g=void 0,C)}function H(){a!==void 0&&clearTimeout(a),u=0,r=h=g=a=void 0}function v(){return a===void 0?C:$(de())}function l(){var i=de(),m=A(i);if(r=arguments,g=this,h=i,m){if(a===void 0)return b(h);if(w)return clearTimeout(a),a=setTimeout(E,d),y(h)}return a===void 0&&(a=setTimeout(E,d)),C}return l.cancel=H,l.flush=v,l}var xt="Expected a function";function Ce(t,d,o){var r=!0,g=!0;if(typeof t!="function")throw new TypeError(xt);return ae(o)&&(r="leading"in o?!!o.leading:r,g="trailing"in o?!!o.trailing:g),kt(t,d,{leading:r,maxWait:d,trailing:g})}const Tt=we({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),St={change:(t,d)=>[t,d].every(je)},$e=Symbol("carouselContextKey"),Ie=300,Et=(t,d,o)=>{const{children:r,addChild:g,removeChild:_}=it(xe(),"ElCarouselItem"),C=Xe(),a=p(-1),h=p(null),u=p(!1),f=p(),w=p(0),k=p(!0),y=p(!0),b=p(!1),L=R(()=>t.arrow!=="never"&&!e($)),A=R(()=>r.value.some(s=>s.props.label.toString().length>0)),E=R(()=>t.type==="card"),$=R(()=>t.direction==="vertical"),H=R(()=>t.height!=="auto"?{height:t.height}:{height:`${w.value}px`,overflow:"hidden"}),v=Ce(s=>{S(s)},Ie,{trailing:!0}),l=Ce(s=>{W(s)},Ie),i=s=>k.value?a.value<=1?s<=1:s>1:!0;function m(){h.value&&(clearInterval(h.value),h.value=null)}function I(){t.interval<=0||!t.autoplay||h.value||(h.value=setInterval(()=>B(),t.interval))}const B=()=>{y.value||(b.value=!0),y.value=!1,a.value<r.value.length-1?a.value=a.value+1:t.loop?a.value=0:b.value=!1};function S(s){if(y.value||(b.value=!0),y.value=!1,Ke(s)){const j=r.value.filter(z=>z.props.name===s);j.length>0&&(s=r.value.indexOf(j[0]))}if(s=Number(s),Number.isNaN(s)||s!==Math.floor(s))return;const x=r.value.length,O=a.value;s<0?a.value=t.loop?x-1:0:s>=x?a.value=t.loop?0:x-1:a.value=s,O===a.value&&n(O),he()}function n(s){r.value.forEach((x,O)=>{x.translateItem(O,a.value,s)})}function P(s,x){var O,j,z,q;const Q=e(r),ge=Q.length;if(ge===0||!s.states.inStage)return!1;const Oe=x+1,Re=x-1,pe=ge-1,De=Q[pe].states.active,Pe=Q[0].states.active,We=(j=(O=Q[Oe])==null?void 0:O.states)==null?void 0:j.active,ze=(q=(z=Q[Re])==null?void 0:z.states)==null?void 0:q.active;return x===pe&&Pe||We?"left":x===0&&De||ze?"right":!1}function re(){u.value=!0,t.pauseOnHover&&m()}function le(){u.value=!1,I()}function ie(){b.value=!1}function M(s){e($)||r.value.forEach((x,O)=>{s===P(x,O)&&(x.states.hover=!0)})}function me(){e($)||r.value.forEach(s=>{s.states.hover=!1})}function Y(s){s!==a.value&&(y.value||(b.value=!0)),a.value=s}function W(s){t.trigger==="hover"&&s!==a.value&&(a.value=s,y.value||(b.value=!0))}function ue(){S(a.value-1)}function Be(){S(a.value+1)}function he(){m(),t.pauseOnHover||I()}function Ae(s){t.height==="auto"&&(w.value=s)}function He(){var s;const x=(s=C.default)==null?void 0:s.call(C);if(!x)return null;const O=ut(x),j="ElCarouselItem",z=O.filter(q=>qe(q)&&q.type.name===j);return(z==null?void 0:z.length)===2&&t.loop&&!E.value?(k.value=!0,z):(k.value=!1,null)}J(()=>a.value,(s,x)=>{n(x),k.value&&(s=s%2,x=x%2),x>-1&&d("change",s,x)}),J(()=>t.autoplay,s=>{s?I():m()}),J(()=>t.loop,()=>{S(a.value)}),J(()=>t.interval,()=>{he()});const ce=Fe();return se(()=>{J(()=>r.value,()=>{r.value.length>0&&S(t.initialIndex)},{immediate:!0}),ce.value=Ue(f.value,()=>{n()}),I()}),ke(()=>{m(),f.value&&ce.value&&ce.value.stop()}),Ge($e,{root:f,isCardType:E,isVertical:$,items:r,loop:t.loop,cardScale:t.cardScale,addItem:g,removeItem:_,setActiveItem:S,setContainerHeight:Ae}),{root:f,activeIndex:a,arrowDisplay:L,hasLabel:A,hover:u,isCardType:E,isTransitioning:b,items:r,isVertical:$,containerStyle:H,isItemsTwoLength:k,handleButtonEnter:M,handleTransitionEnd:ie,handleButtonLeave:me,handleIndicatorClick:Y,handleMouseEnter:re,handleMouseLeave:le,setActiveItem:S,prev:ue,next:Be,PlaceholderItem:He,isTwoLengthShow:i,throttledArrowClick:v,throttledIndicatorHover:l}},Mt="ElCarousel",Nt=ne({name:Mt}),$t=ne({...Nt,props:Tt,emits:St,setup(t,{expose:d,emit:o}){const r=t,{root:g,activeIndex:_,arrowDisplay:C,hasLabel:a,hover:h,isCardType:u,items:f,isVertical:w,containerStyle:k,handleButtonEnter:y,handleButtonLeave:b,isTransitioning:L,handleIndicatorClick:A,handleMouseEnter:E,handleMouseLeave:$,handleTransitionEnd:H,setActiveItem:v,prev:l,next:i,PlaceholderItem:m,isTwoLengthShow:I,throttledArrowClick:B,throttledIndicatorHover:S}=Et(r,o),n=Te("carousel"),{t:P}=Qe(),re=R(()=>{const M=[n.b(),n.m(r.direction)];return e(u)&&M.push(n.m("card")),M}),le=R(()=>{const M=[n.e("container")];return r.motionBlur&&e(L)&&M.push(e(w)?`${n.namespace.value}-transitioning-vertical`:`${n.namespace.value}-transitioning`),M}),ie=R(()=>{const M=[n.e("indicators"),n.em("indicators",r.direction)];return e(a)&&M.push(n.em("indicators","labels")),r.indicatorPosition==="outside"&&M.push(n.em("indicators","outside")),e(w)&&M.push(n.em("indicators","right")),M});return d({activeIndex:_,setActiveItem:v,prev:l,next:i}),(M,me)=>(T(),N("div",{ref_key:"root",ref:g,class:D(e(re)),onMouseenter:Z(e(E),["stop"]),onMouseleave:Z(e($),["stop"])},[e(C)?(T(),fe(_e,{key:0,name:"carousel-arrow-left",persisted:""},{default:X(()=>[ee(c("button",{type:"button",class:D([e(n).e("arrow"),e(n).em("arrow","left")]),"aria-label":e(P)("el.carousel.leftArrow"),onMouseenter:Y=>e(y)("left"),onMouseleave:e(b),onClick:Z(Y=>e(B)(e(_)-1),["stop"])},[V(e(ve),null,{default:X(()=>[V(e(Je))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[te,(M.arrow==="always"||e(h))&&(r.loop||e(_)>0)]])]),_:1})):F("v-if",!0),e(C)?(T(),fe(_e,{key:1,name:"carousel-arrow-right",persisted:""},{default:X(()=>[ee(c("button",{type:"button",class:D([e(n).e("arrow"),e(n).em("arrow","right")]),"aria-label":e(P)("el.carousel.rightArrow"),onMouseenter:Y=>e(y)("right"),onMouseleave:e(b),onClick:Z(Y=>e(B)(e(_)+1),["stop"])},[V(e(ve),null,{default:X(()=>[V(e(Ze))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[te,(M.arrow==="always"||e(h))&&(r.loop||e(_)<e(f).length-1)]])]),_:1})):F("v-if",!0),c("div",{class:D(e(le)),style:Ee(e(k)),onTransitionend:e(H)},[V(e(m)),Se(M.$slots,"default")],46,["onTransitionend"]),M.indicatorPosition!=="none"?(T(),N("ul",{key:2,class:D(e(ie))},[(T(!0),N(U,null,G(e(f),(Y,W)=>ee((T(),N("li",{key:W,class:D([e(n).e("indicator"),e(n).em("indicator",M.direction),e(n).is("active",W===e(_))]),onMouseenter:ue=>e(S)(W),onClick:Z(ue=>e(A)(W),["stop"])},[c("button",{class:D(e(n).e("button")),"aria-label":e(P)("el.carousel.indicator",{index:W+1})},[e(a)?(T(),N("span",{key:0},K(Y.props.label),1)):F("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[te,e(I)(W)]])),128))],2)):F("v-if",!0),r.motionBlur?(T(),N("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[c("defs",null,[c("filter",{id:"elCarouselHorizontal"},[c("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),c("filter",{id:"elCarouselVertical"},[c("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):F("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var Lt=Me($t,[["__file","carousel.vue"]]);const Bt=we({name:{type:String,default:""},label:{type:[String,Number],default:""}}),At=(t,d)=>{const o=et($e),r=xe(),g=p(),_=p(!1),C=p(0),a=p(1),h=p(!1),u=p(!1),f=p(!1),w=p(!1),{isCardType:k,isVertical:y,cardScale:b}=o;function L(v,l,i){const m=i-1,I=l-1,B=l+1,S=i/2;return l===0&&v===m?-1:l===m&&v===0?i:v<I&&l-v>=S?i+1:v>B&&v-l>=S?-2:v}function A(v,l){var i,m;const I=e(y)?((i=o.root.value)==null?void 0:i.offsetHeight)||0:((m=o.root.value)==null?void 0:m.offsetWidth)||0;return f.value?I*((2-b)*(v-l)+1)/4:v<l?-(1+b)*I/4:(3+b)*I/4}function E(v,l,i){const m=o.root.value;return m?((i?m.offsetHeight:m.offsetWidth)||0)*(v-l):0}const $=(v,l,i)=>{var m;const I=e(k),B=(m=o.items.value.length)!=null?m:Number.NaN,S=v===l;!I&&!nt(i)&&(w.value=S||v===i),!S&&B>2&&o.loop&&(v=L(v,l,B));const n=e(y);h.value=S,I?(f.value=Math.round(Math.abs(v-l))<=1,C.value=A(v,l),a.value=e(h)?1:b):C.value=E(v,l,n),u.value=!0,S&&g.value&&o.setContainerHeight(g.value.offsetHeight)};function H(){if(o&&e(k)){const v=o.items.value.findIndex(({uid:l})=>l===r.uid);o.setActiveItem(v)}}return se(()=>{o.addItem({props:t,states:tt({hover:_,translate:C,scale:a,active:h,ready:u,inStage:f,animating:w}),uid:r.uid,translateItem:$})}),Ne(()=>{o.removeItem(r.uid)}),{carouselItemRef:g,active:h,animating:w,hover:_,inStage:f,isVertical:y,translate:C,isCardType:k,scale:a,ready:u,handleItemClick:H}},Ht=ne({name:"ElCarouselItem"}),Ot=ne({...Ht,props:Bt,setup(t){const d=t,o=Te("carousel"),{carouselItemRef:r,active:g,animating:_,hover:C,inStage:a,isVertical:h,translate:u,isCardType:f,scale:w,ready:k,handleItemClick:y}=At(d),b=R(()=>[o.e("item"),o.is("active",g.value),o.is("in-stage",a.value),o.is("hover",C.value),o.is("animating",_.value),{[o.em("item","card")]:f.value,[o.em("item","card-vertical")]:f.value&&h.value}]),L=R(()=>{const E=`${`translate${e(h)?"Y":"X"}`}(${e(u)}px)`,$=`scale(${e(w)})`;return{transform:[E,$].join(" ")}});return(A,E)=>ee((T(),N("div",{ref_key:"carouselItemRef",ref:r,class:D(e(b)),style:Ee(e(L)),onClick:e(y)},[e(f)?ee((T(),N("div",{key:0,class:D(e(o).e("mask"))},null,2)),[[te,!e(g)]]):F("v-if",!0),Se(A.$slots,"default")],14,["onClick"])),[[te,e(k)]])}});var Le=Me(Ot,[["__file","carousel-item.vue"]]);const Rt=at(Lt,{CarouselItem:Le}),Dt=st(Le);function Pt(t,d,o){const r=p(0),g=p(0),_=p(!1),C=u=>{const f=u.touches[0];r.value=f.clientX,g.value=f.clientY,_.value=!0},a=u=>{if(!_.value||!t.value)return;const f=u.touches[0],w=f.clientX-r.value,k=f.clientY-g.value,y=t.value.getBoundingClientRect(),b=f.clientX,L=f.clientY;b<y.left||b>y.right||L<y.top||L>y.bottom||Math.abs(w)>Math.abs(k)&&(w>30?(d(),_.value=!1):w<-30&&(o(),_.value=!1))},h=()=>{_.value=!1};se(()=>{const u=t.value;u&&(u.addEventListener("touchstart",C),u.addEventListener("touchmove",a),u.addEventListener("touchend",h))}),Ne(()=>{const u=t.value;u&&(u.removeEventListener("touchstart",C),u.removeEventListener("touchmove",a),u.removeEventListener("touchend",h))})}const Wt={class:"px-3 md:px-8 lg:px-20"},zt={class:"lg:flex"},Vt=["onClick"],Yt=["src","alt"],jt={class:"absolute bottom-0 flex h-12 w-full items-center justify-center bg-gray-800/[.5] py-2 text-lg font-bold text-white transition-[height] duration-500 group-hover:h-full"},Xt=c("div",{class:"my-4 flex items-center text-lg font-bold md:text-2xl"},[oe(" 限定款式"),c("i",{class:"fa-solid fa-angles-right animate-moveIcon"})],-1),Ft=["src","alt","onClick"],Ut=c("div",{class:"my-4 flex items-center text-lg font-bold md:text-2xl"},[oe(" 甜點分類"),c("i",{class:"fa-solid fa-angles-right animate-moveIcon"})],-1),Gt={class:"flex space-x-4 overflow-x-auto py-2 lg:justify-around"},Kt=["onClick"],qt={class:"flex h-10 items-center justify-center bg-pink-200 font-bold"},Qt={class:"w-48 md:w-64"},Jt=["src","alt"],Zt={class:"mb-4"},en=c("div",{class:"my-4 flex items-center text-lg font-bold md:text-2xl"},[oe(" 活動快訊"),c("i",{class:"fa-solid fa-angles-right animate-moveIcon"})],-1),tn={class:"rounded-md bg-yellow-500 p-3"},nn={class:"flex justify-between"},an={class:"text-sm font-bold md:text-base"},sn={class:"flex items-center text-xs font-bold md:text-sm"},on={class:"text-end text-xs md:text-sm"},rn={class:"mb-[150px] flex flex-wrap justify-center rounded-md bg-gray-200 py-3"},ln={class:"m-auto w-fit cursor-pointer border-b-2 border-black pb-2 text-center font-bold hover:border-blue-500 hover:text-blue-500 md:text-lg"},hn=ne({__name:"index",setup(t){const d=ot(),o=ct(),r=dt(),{getImageUrl:g}=ft(),_=p([{name:"DIY課程",source:"DIY",path:"/DIY"},{name:"活動報名",source:"reserve",path:"/activity"},{name:"場地租借",source:"rent",path:"/rent"}]),C=p([{name:"生日限定款式",source:"birthday",section:"birthdayCake"},{name:"中秋限定款式",source:"moon-festival",section:"moonFestivalCake"}]),a=p([{name:"中秋限定",source:"moonCake",section:"moonFestivalCake"},{name:"生日蛋糕",source:"birthdayCake",section:"birthdayCake"},{name:"蛋糕",source:"redVelvetCake",section:"cake"},{name:"塔派",source:"lemonPie",section:"pie"},{name:"點心",source:"coffeeDonut",section:"snack"}]),h=p([{name:"品牌介紹"},{name:"服務項目"},{name:"產業合作"},{name:"分店資訊"},{name:"常見問題"},{name:"聯絡我們"}]),u=p(),f=p(null),w=p(),k=p(),y=R(()=>k.value?`${k.value*.666}px`:""),b=()=>{w.value=window.innerWidth,E()},L=()=>{var l;(l=u.value)==null||l.prev()},A=()=>{var l;(l=u.value)==null||l.next()},E=()=>{f.value&&(k.value=f.value.getBoundingClientRect().width)};Pt(f,L,A),se(()=>{window.addEventListener("resize",b),E()}),ke(()=>{window.removeEventListener("resize",b)});function $(l){d.push({path:l})}function H(l){d.push({path:"/DIY"}).then(async()=>{await lt(),setTimeout(()=>{o.section=l},300)})}function v(){d.push({path:"/activity"})}return(l,i)=>{const m=Dt,I=Rt,B=rt("DArrowRight"),S=ve;return T(),N("div",Wt,[c("div",zt,[(T(!0),N(U,null,G(e(_),n=>(T(),N("div",{key:n.name},[c("div",{class:"group relative m-auto my-3 mr-3 cursor-pointer overflow-hidden rounded-md",onClick:P=>$(n.path)},[c("img",{src:e(g)(`${n.source}.png`),alt:n.name},null,8,Yt),c("div",jt,K(n.name),1)],8,Vt)]))),128))]),Xt,c("div",{ref_key:"carouselContainer",ref:f,class:"m-auto lg:w-[1000px]"},[V(I,{ref_key:"carousel",ref:u,arrow:"always",class:"m-auto mt-5 w-full cursor-pointer",height:e(y)},{default:X(()=>[(T(!0),N(U,null,G(e(C),n=>(T(),fe(m,{key:n.name},{default:X(()=>[c("img",{src:e(g)(`${n.source}.png`),alt:n.name,onClick:P=>H(n.section)},null,8,Ft)]),_:2},1024))),128))]),_:1},8,["height"])],512),c("div",null,[Ut,c("div",Gt,[(T(!0),N(U,null,G(e(a),n=>(T(),N("div",{key:n.name,class:"flex-shrink-0 cursor-pointer overflow-hidden rounded-md hover:translate-x-1 hover:translate-y-1",onClick:P=>H(n.section)},[c("div",qt,K(n.name),1),c("div",Qt,[c("img",{src:e(g)(`${n.source}.png`),alt:n.name},null,8,Jt)])],8,Kt))),128))])]),c("div",Zt,[en,c("div",tn,[(T(!0),N(U,null,G(e(r).activities.slice(0,4),n=>(T(),N("div",{key:n.name,class:"mb-2 cursor-pointer rounded-md bg-white px-2 py-1 hover:bg-sky-100"},[c("div",nn,[c("div",an,K(n.name),1),c("div",sn,[oe(" 詳情"),V(S,null,{default:X(()=>[V(B)]),_:1})])]),c("div",on,K(n.date),1)]))),128)),c("div",{class:"cursor-pointer text-end text-sm font-bold underline-offset-4 hover:underline",onClick:v}," 查看更多 ")])]),c("div",rn,[(T(!0),N(U,null,G(e(h),n=>(T(),N("div",{key:n.name,class:"mx-2 mb-4 w-[calc(50%-16px)] phone:w-[calc(33%-24px)]"},[c("div",ln,K(n.name),1)]))),128))])])}}});export{hn as default};
