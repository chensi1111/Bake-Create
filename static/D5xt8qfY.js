import{E as X}from"./zipjig6X.js";import{d as G,a as H,T as J,r as o,U as K,F as Q,j as ee,u as te,t as g,v as b,x as e,V as n,W as k,M as a,X as d,Y as m,y as U,Z as A,O as M,P as T,z as $,B as p,a1 as se,$ as ae}from"./BmZGITcj.js";import{V as z}from"./D1wAb5By.js";import"./HEVJa2N9.js";const le={class:"px-3"},oe={class:"m-auto mt-4 max-w-[1000px] rounded-md bg-pink-100 p-2 shadow-lg lg:px-10"},ne={class:"md:flex"},ue={class:"mt-3 md:mr-4 md:w-3/5"},de={class:"mb-2"},ie=e("div",{class:"font-bold"},[e("span",{class:"text-red-800"},"*"),p("姓名")],-1),re={class:"text-sm text-red-800"},ce={class:"mb-2"},ve=e("div",{class:"font-bold"},[e("span",{class:"text-red-800"},"*"),p("電話")],-1),me={class:"text-sm text-red-800"},pe={class:"mb-2"},_e=e("div",{class:"font-bold"},[e("span",{class:"text-red-800"},"*"),p("信箱")],-1),he={class:"mb-2"},fe=e("div",{class:"font-bold"},[e("span",{class:"text-red-800"},"*"),p("人數")],-1),xe=e("option",{value:"請選擇人數",disabled:"",selected:""},"請選擇人數",-1),ye=["value"],ge={class:"text-sm text-red-800"},be={class:"mb-2"},we=e("div",{class:"font-bold"},[e("span",{class:"text-red-800"},"*"),p("時數")],-1),De=e("option",{value:"請選擇時數",disabled:"",selected:""},"請選擇時數",-1),Ve=["value"],Se={class:"text-sm text-red-800"},ke={class:"mb-2"},Ue=e("div",{class:"font-bold"},[e("span",{class:"text-red-800"},"*"),p("預約日期")],-1),$e={class:"text-sm text-red-800"},Ee={class:"mb-2"},Ae=e("div",{class:"font-bold"},[e("span",{class:"text-red-800"},"*"),p("預約時間")],-1),Me={class:"text-sm text-red-800"},Te={class:"mt-3 h-1/2 pl-3"},ze=e("div",{class:"mb-2 font-bold"},"備註",-1),Re=G({__name:"information",setup(Ne){const{$firebaseDb:N}=H(),B=N,C=J(),w=o();K(C,l=>{l?w.value=l:w.value=null});const x=o(),F=async l=>{if(l){const t=await se(ae(B,"users",l.uid));t.exists()&&(x.value=t.data())}},i=o(),r=o(),c=o(),_=o(),y=o(),h=o("請選擇人數"),f=o("請選擇時數"),D=o("");Q(()=>{w.value&&F(w.value),x.value&&(i.value=x.value.userName,r.value=x.value.phone,c.value=x.value.email)});const Z=o([{value:5},{value:6},{value:7},{value:8},{value:9},{value:10},{value:11},{value:12},{value:13},{value:14},{value:15}]),R=o([{value:1},{value:1.5},{value:2},{value:2.5},{value:3},{value:3.5},{value:4}]);function Y(){const l=new Date,t=new Date(l);t.setDate(l.getDate()+1);const v=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),S=String(t.getDate()).padStart(2,"0");return`${v}-${s}-${S}`}function L(){const l=new Date,t=new Date(l);t.setDate(l.getDate()+31);const v=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),S=String(t.getDate()).padStart(2,"0");return`${v}-${s}-${S}`}const O=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,u=o(!1);function P(l){return O.test(l)}const V=ee(()=>c.value?P(c.value)?void 0:"請輸入正確格式":"信箱為必填"),E=te();function W(){E.go(-1)}function j(l){return new Date(l).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"})}function q(l){const t=String(l.hours).padStart(2,"0"),v=String(l.minutes).padStart(2,"0");return`${t}:${v}`}function I(){i.value&&r.value&&!V.value&&_.value&&h.value!=="請選擇人數"&&f.value!=="請選擇時數"?E.push({path:"/rent/pay",query:{name:i.value,phone:r.value,mail:c.value,date:j(_.value),time:q(y.value),people:h.value,hours:f.value,notice:D.value}}):u.value=!0}return(l,t)=>{const v=X;return g(),b("div",le,[e("div",oe,[e("div",ne,[e("div",ue,[e("div",de,[ie,n(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>d(i)?i.value=s:null),type:"text",placeholder:"請輸入姓名",class:"my-1 w-full py-1 pl-2"},null,512),[[k,a(i)]]),n(e("div",re,"姓名為必填",512),[[m,!a(i)&&a(u)]])]),e("div",ce,[ve,n(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>d(r)?r.value=s:null),type:"text",placeholder:"請輸入電話",class:"my-1 w-full py-1 pl-2"},null,512),[[k,a(r)]]),n(e("div",me,"電話為必填",512),[[m,!a(r)&&a(u)]])]),e("div",pe,[_e,n(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>d(c)?c.value=s:null),type:"text",placeholder:"請輸入信箱",class:"my-1 w-full py-1 pl-2"},null,512),[[k,a(c)]]),n(e("div",{class:"text-sm text-red-800"},U(a(V)),513),[[m,a(V)&&a(u)]])]),e("div",he,[fe,n(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>d(h)?h.value=s:null),class:"my-1 w-full py-1 pl-2"},[xe,(g(!0),b(M,null,T(a(Z),s=>(g(),b("option",{key:s.value,value:s.value},[e("div",null,U(s.value),1)],8,ye))),128))],512),[[A,a(h)]]),n(e("div",ge,"人數為必填",512),[[m,!a(h)&&a(u)]])]),e("div",be,[we,n(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>d(f)?f.value=s:null),class:"my-1 w-full py-1 pl-2"},[De,(g(!0),b(M,null,T(a(R),s=>(g(),b("option",{key:s.value,value:s.value},[e("div",null,U(s.value),1)],8,Ve))),128))],512),[[A,a(f)]]),n(e("div",Se,"時數為必填",512),[[m,!a(f)&&a(u)]])]),e("div",ke,[Ue,$(a(z),{modelValue:a(_),"onUpdate:modelValue":t[5]||(t[5]=s=>d(_)?_.value=s:null),"enable-time-picker":!1,"min-date":Y(),"max-date":L(),placeholder:"選擇預約日期"},null,8,["modelValue","min-date","max-date"]),n(e("div",$e,"日期為必填",512),[[m,!a(_)&&a(u)]])]),e("div",Ee,[Ae,$(a(z),{modelValue:a(y),"onUpdate:modelValue":t[6]||(t[6]=s=>d(y)?y.value=s:null),"time-picker":"","min-time":{hours:7},"max-time":{hours:18},"start-time":{hours:8,minutes:0},"minutes-increment":"15","minutes-grid-increment":"15",placeholder:"選擇預約時間"},null,8,["modelValue"]),n(e("div",Me,"時間為必填",512),[[m,!a(y)&&a(u)]])])]),e("div",Te,[ze,$(v,{modelValue:a(D),"onUpdate:modelValue":t[7]||(t[7]=s=>d(D)?D.value=s:null),style:{width:"300px"},rows:10,type:"textarea",placeholder:"請輸入備註"},null,8,["modelValue"])])]),e("div",{class:"flex justify-center"},[e("div",{class:"my-3 mr-4 w-fit cursor-pointer rounded-sm bg-gray-100 px-2 py-1 text-black",onClick:W}," 上一步 "),e("div",{class:"my-3 w-fit cursor-pointer rounded-sm bg-amber-800 px-2 py-1 text-white",onClick:I}," 下一步 ")])])])}}});export{Re as default};
