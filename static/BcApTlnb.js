import{_ as J,t as s,v as n,x as t,d as K,u as Q,r as c,j as U,o as W,f as X,F as Z,a0 as D,M as o,a1 as ee,O as v,P as p,z as j,A as g,W as z,y as l,B as R,N as I,U as te,Y as oe,a2 as se}from"./DyyCZs6m.js";import{E as le}from"./BPGW-GHO.js";import"./CSDv52pG.js";import{E as ne}from"./B_442gpF.js";import"./BwtHOQoj.js";import{u as ae}from"./BDTCjVus.js";import{u as ce}from"./C2Lsu-AO.js";import{u as ie}from"./D5L6xSx4.js";import"./HEVJa2N9.js";import"./BZnxJvvq.js";const re=""+new URL("donut.jM6qLfBx.png",import.meta.url).href,de={},ue={class:"flex min-h-screen items-center justify-center"},_e=t("img",{src:re,class:"animate-spin"},null,-1),ve=[_e];function pe(O,u){return s(),n("div",ue,ve)}const fe=J(de,[["render",pe]]),me={class:"relative px-3 md:px-8 lg:px-20"},be={key:1},xe={class:"fixed right-0 top-1/2 z-50 -translate-y-1/2 rounded-sm bg-white/[.8] text-center"},he=["onClick"],ke=t("div",{class:"mb-3 mt-1 text-center text-2xl font-bold"},"選擇款式",-1),ye=["onClick"],ge=["src","alt"],we={class:"absolute bottom-0 flex w-full justify-between bg-black/[.4] px-4 py-2 text-lg font-bold text-white"},Ce={class:"flex-wrap md:flex"},$e=["onClick"],Se=["src","alt"],Be={class:"absolute bottom-0 flex w-full justify-between bg-black/[.4] px-4 py-2 text-lg font-bold text-white"},je={class:"flex-wrap md:flex"},Ee=["onClick"],Pe=["src","alt"],Ve={class:"absolute bottom-0 flex w-full justify-between bg-black/[.4] px-4 py-2 text-lg font-bold text-white"},Fe={class:"flex-wrap md:flex"},Ne=["onClick"],Te=["src","alt"],Le={class:"absolute bottom-0 flex w-full justify-between bg-black/[.4] px-4 py-2 text-lg font-bold text-white"},Me={class:"flex-wrap md:flex"},Ue=["onClick"],We=["src","alt"],De={class:"absolute bottom-0 flex w-full justify-between bg-black/[.4] px-4 py-2 text-lg font-bold text-white"},ze={class:"lg:flex"},Re={class:"mr-2 mt-2 lg:w-1/2"},Ie=["src","alt"],Oe={class:"lg:w-1/2"},Ye={class:"my-2 flex justify-between"},Ae={class:"text-2xl font-bold"},qe={class:"font-bold"},Ge=t("div",null,"可兩人一同製作, 第三人需獨立製作一份甜點",-1),He={key:0,class:"text-red-500"},Je={key:1},Ke=t("option",{value:"請選擇款式",disabled:"",selected:""},"請選擇款式",-1),Qe=["value"],Xe=t("div",{class:"my-2 text-xl font-bold"},"產品特色",-1),Ze=t("div",{class:"my-2 text-xl font-bold"},"保存方式",-1),et=t("div",null,[t("li",null,"製作完成後需在2小時內冷藏。"),t("li",null,"請冷藏至少2小時,待內餡凝固再食用。"),t("li",null,"請於3天內食用完,口感較佳。")],-1),tt={class:"my-2 text-end text-2xl font-bold"},ot=t("div",{class:"rounded-md bg-pink-100 px-4 py-2 lg:text-lg"},[t("p",null,"1. 因安全考量,無論是否有大人陪同,6歲以下小朋友都無法入場。"),t("p",null,"2. 所有訂位『僅保留10分鐘』須全員到齊,逾時請現場候位。"),t("p",null,"3. 甜點製作環境,寵物無法入店, 嚴禁:外食、菸、酒、檳榔。")],-1),st={class:"lg:px-10"},pt=K({__name:"DIY",setup(O){const{getImageUrl:u}=ae(),E=ce(),a=ie(),Y=Q(),A=c([{name:"生日優惠",section:"birthdayCake"},{name:"中秋限定",section:"moonFestivalCake"},{name:"蛋糕",section:"cake"},{name:"塔派",section:"pie"},{name:"點心",section:"snack"}]),P=c(null),V=c(null),F=c(null),N=c(null),T=c(null),f=c("請選擇款式"),q=U(()=>w.value>=1024?112:80),L=async r=>{await D();const d={birthdayCake:P,moonFestivalCake:V,cake:F,pie:N,snack:T}[r];if(d!=null&&d.value){const h=d.value.getBoundingClientRect(),e=window.scrollY+h.top-q.value;window.scrollTo({top:e,behavior:"smooth"})}},G=U(()=>w.value>768?"50%":"90%"),w=c(),m=c(!1);function C(){w.value=window.innerWidth}const _=c(),$=c(),S=c(),B=c(),y=c();function b(r,i,d,x,h){f.value="請選擇款式",_.value=r,S.value=i,$.value=d,B.value=x,y.value=h,m.value=!0}W(()=>{window.addEventListener("resize",C),C()}),X(()=>{window.removeEventListener("resize",C)}),Z(()=>{E.section&&L(E.section)});function H(){if(_.value==="生日蛋糕")if(f.value==="請選擇款式"){ne.alert("請選擇蛋糕款式","提示",{confirmButtonText:"確認"});return}else{const r=a.allProducts.find(i=>i.name===f.value);r&&(a.productName=r.name,a.productPrice=r.price,a.productSource=r.source,a.productTime=r.time,a.birthdayCake=!0)}else a.productName=_.value,a.productPrice=S.value,a.productSource=B.value,a.productTime=$.value,a.birthdayCake=!1;m.value=!1,Y.push({path:"/order"})}const M=c(!0);return W(async()=>{await D(),M.value=!1}),(r,i)=>{const d=fe,x=se,h=le;return s(),n("div",me,[o(M)?(s(),ee(d,{key:0})):(s(),n("div",be,[t("div",xe,[(s(!0),n(v,null,p(o(A),e=>(s(),n("div",{key:e.name},[t("div",{class:"cursor-pointer p-2 font-bold hover:bg-pink-100",onClick:k=>L(e.section)},l(e.name),9,he)]))),128))]),ke,t("div",{id:"birthdayCake",ref_key:"birthdayCake",ref:P,class:"border-b-2 border-black py-2 text-xl font-bold"}," 壽星優惠(限當日壽星) ",512),(s(!0),n(v,null,p(o(a).birthday,e=>(s(),n("div",{key:e.name},[t("div",{class:"relative my-2 mr-2 cursor-pointer md:w-80",onClick:k=>b(e.name,e.price,e.time,e.source,e.material)},[t("img",{src:o(u)(`${e.source}.png`),alt:e.name},null,8,ge),t("div",we,[t("div",null,l(e.name),1),t("div",null,"$ "+l(e.price),1)])],8,ye)]))),128)),t("div",{id:"moonFestivalCake",ref_key:"moonFestivalCake",ref:V,class:"border-b-2 border-black py-2 text-xl font-bold"}," 中秋節限定 ",512),t("div",Ce,[(s(!0),n(v,null,p(o(a).moonFestival,e=>(s(),n("div",{key:e.name},[t("div",{class:"relative my-2 mr-2 cursor-pointer md:w-80",onClick:k=>b(e.name,e.price,e.time,e.source,e.material)},[t("img",{src:o(u)(`${e.source}.png`),alt:e.name},null,8,Se),t("div",Be,[t("div",null,l(e.name),1),t("div",null,"$ "+l(e.price),1)])],8,$e)]))),128))]),t("div",{id:"cake",ref_key:"cake",ref:F,class:"border-b-2 border-black py-2 text-xl font-bold"},"蛋糕",512),t("div",je,[(s(!0),n(v,null,p(o(a).cakes,e=>(s(),n("div",{key:e.name},[t("div",{class:"relative my-2 mr-2 cursor-pointer md:w-80",onClick:k=>b(e.name,e.price,e.time,e.source,e.material)},[t("img",{src:o(u)(`${e.source}.png`),alt:e.name},null,8,Pe),t("div",Ve,[t("div",null,l(e.name),1),t("div",null,"$ "+l(e.price),1)])],8,Ee)]))),128))]),t("div",{id:"pie",ref_key:"pie",ref:N,class:"border-b-2 border-black py-2 text-xl font-bold"},"塔派",512),t("div",Fe,[(s(!0),n(v,null,p(o(a).pies,e=>(s(),n("div",{key:e.name},[t("div",{class:"relative my-2 mr-2 cursor-pointer md:w-80",onClick:k=>b(e.name,e.price,e.time,e.source,e.material)},[t("img",{src:o(u)(`${e.source}.png`),alt:e.name},null,8,Te),t("div",Le,[t("div",null,l(e.name),1),t("div",null,"$ "+l(e.price),1)])],8,Ne)]))),128))]),t("div",{id:"snack",ref_key:"snack",ref:T,class:"border-b-2 border-black py-2 text-xl font-bold"},"點心",512),t("div",Me,[(s(!0),n(v,null,p(o(a).snacks,e=>(s(),n("div",{key:e.name},[t("div",{class:"relative my-2 mr-2 cursor-pointer md:w-80",onClick:k=>b(e.name,e.price,e.time,e.source,e.material)},[t("img",{src:o(u)(`${e.source}.png`),alt:e.name},null,8,We),t("div",De,[t("div",null,l(e.name),1),t("div",null,"$ "+l(e.price),1)])],8,Ue)]))),128))]),j(h,{modelValue:o(m),"onUpdate:modelValue":i[2]||(i[2]=e=>z(m)?m.value=e:null),width:o(G)},{footer:g(()=>[t("div",st,[j(x,{onClick:i[1]||(i[1]=e=>m.value=!1)},{default:g(()=>[R("關閉")]),_:1}),j(x,{type:"primary",onClick:H},{default:g(()=>[R(" 立即預約 ")]),_:1})])]),default:g(()=>[t("div",ze,[t("div",Re,[t("img",{src:o(u)(`${o(B)}.png`),alt:o(_)},null,8,Ie)]),t("div",Oe,[t("div",Ye,[t("div",Ae,l(o(_)),1),t("div",qe,"預計耗時 : "+l(o($))+"hr",1)]),Ge,o(_)==="生日蛋糕"?(s(),n("div",He," 備註:免費生日蛋糕優惠需搭配另一種類蛋糕使用 ")):I("",!0),o(_)==="生日蛋糕"?(s(),n("div",Je,[te(t("select",{"onUpdate:modelValue":i[0]||(i[0]=e=>z(f)?f.value=e:null),class:"my-1 w-full py-1 pl-2"},[Ke,(s(!0),n(v,null,p(o(a).allProducts,e=>(s(),n("option",{key:e.name,value:e.name},[t("div",null,l(e.name)+" - $"+l(e.price),1)],8,Qe))),128))],512),[[oe,o(f)]])])):I("",!0),Xe,t("div",null,[t("li",null," 主體: "+l(o(y).main),1),t("li",null," 內餡: "+l(o(y).filling),1),t("li",null," 裝飾: "+l(o(y).decoration),1)]),Ze,et,t("div",tt,"價格 : $ "+l(o(S)),1)])]),ot]),_:1},8,["modelValue","width"])]))])}}});export{pt as default};
