import{a3 as Ve,a4 as oe,a5 as Ye,a6 as we,a7 as je,a8 as Xe,r as _,j as R,M as e,H as Z,a9 as Fe,o as se,aa as Ue,f as ke,ab as Ge,ac as Ke,ad as qe,K as xe,d as ae,ae as Te,af as Qe,t as S,v as $,a1 as fe,A as F,U as te,x as l,ag as P,ah as ee,z as V,Q as ve,ai as Je,X as ne,aj as _e,N as U,ak as Ze,al as Se,am as Ee,O as G,P as K,y as q,an as Me,ao as et,ap as tt,aq as Ne,ar as nt,as as at,at as ot,u as st,i as rt,B as re,a0 as lt}from"./DyyCZs6m.js";import{u as it}from"./hlrsTf1l.js";import{f as ut}from"./BZnxJvvq.js";import{u as ct}from"./C2Lsu-AO.js";import{u as dt}from"./CQ06Vr8h.js";import{u as ft}from"./BDTCjVus.js";var vt=/\s/;function mt(t){for(var i=t.length;i--&&vt.test(t.charAt(i)););return i}var ht=/^\s+/;function gt(t){return t&&t.slice(0,mt(t)+1).replace(ht,"")}var ye=NaN,pt=/^[-+]0x[0-9a-f]+$/i,_t=/^0b[01]+$/i,yt=/^0o[0-7]+$/i,bt=parseInt;function be(t){if(typeof t=="number")return t;if(Ve(t))return ye;if(oe(t)){var i=typeof t.valueOf=="function"?t.valueOf():t;t=oe(i)?i+"":i}if(typeof t!="string")return t===0?t:+t;t=gt(t);var s=_t.test(t);return s||yt.test(t)?bt(t.slice(2),s?2:8):pt.test(t)?ye:+t}var de=function(){return Ye.Date.now()},Ct="Expected a function",It=Math.max,wt=Math.min;function kt(t,i,s){var r,g,y,I,a,v,u=0,c=!1,k=!1,x=!0;if(typeof t!="function")throw new TypeError(Ct);i=be(i)||0,oe(s)&&(c=!!s.leading,k="maxWait"in s,y=k?It(be(s.maxWait)||0,i):y,x="trailing"in s?!!s.trailing:x);function b(n){var h=r,w=g;return r=g=void 0,u=n,I=t.apply(w,h),I}function C(n){return u=n,a=setTimeout(M,i),c?b(n):I}function B(n){var h=n-v,w=n-u,A=i-h;return k?wt(A,y-w):A}function H(n){var h=n-v,w=n-u;return v===void 0||h>=i||h<0||k&&w>=y}function M(){var n=de();if(H(n))return L(n);a=setTimeout(M,B(n))}function L(n){return a=void 0,x&&r?b(n):(r=g=void 0,I)}function O(){a!==void 0&&clearTimeout(a),u=0,r=v=g=a=void 0}function d(){return a===void 0?I:L(de())}function m(){var n=de(),h=H(n);if(r=arguments,g=this,v=n,h){if(a===void 0)return C(v);if(k)return clearTimeout(a),a=setTimeout(M,i),b(v)}return a===void 0&&(a=setTimeout(M,i)),I}return m.cancel=O,m.flush=d,m}var xt="Expected a function";function Ce(t,i,s){var r=!0,g=!0;if(typeof t!="function")throw new TypeError(xt);return oe(s)&&(r="leading"in s?!!s.leading:r,g="trailing"in s?!!s.trailing:g),kt(t,i,{leading:r,maxWait:i,trailing:g})}const Tt=we({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),St={change:(t,i)=>[t,i].every(je)},$e=Symbol("carouselContextKey"),Ie=300,Et=(t,i,s)=>{const{children:r,addChild:g,removeChild:y}=it(xe(),"ElCarouselItem"),I=Xe(),a=_(-1),v=_(null),u=_(!1),c=_(),k=_(0),x=_(!0),b=_(!0),C=_(!1),B=R(()=>t.arrow!=="never"&&!e(L)),H=R(()=>r.value.some(o=>o.props.label.toString().length>0)),M=R(()=>t.type==="card"),L=R(()=>t.direction==="vertical"),O=R(()=>t.height!=="auto"?{height:t.height}:{height:`${k.value}px`,overflow:"hidden"}),d=Ce(o=>{E(o)},Ie,{trailing:!0}),m=Ce(o=>{W(o)},Ie),n=o=>x.value?a.value<=1?o<=1:o>1:!0;function h(){v.value&&(clearInterval(v.value),v.value=null)}function w(){t.interval<=0||!t.autoplay||v.value||(v.value=setInterval(()=>A(),t.interval))}const A=()=>{b.value||(C.value=!0),b.value=!1,a.value<r.value.length-1?a.value=a.value+1:t.loop?a.value=0:C.value=!1};function E(o){if(b.value||(C.value=!0),b.value=!1,Ke(o)){const X=r.value.filter(z=>z.props.name===o);X.length>0&&(o=r.value.indexOf(X[0]))}if(o=Number(o),Number.isNaN(o)||o!==Math.floor(o))return;const T=r.value.length,D=a.value;o<0?a.value=t.loop?T-1:0:o>=T?a.value=t.loop?0:T-1:a.value=o,D===a.value&&p(D),he()}function p(o){r.value.forEach((T,D)=>{T.translateItem(D,a.value,o)})}function f(o,T){var D,X,z,Q;const J=e(r),ge=J.length;if(ge===0||!o.states.inStage)return!1;const Oe=T+1,De=T-1,pe=ge-1,Re=J[pe].states.active,Pe=J[0].states.active,We=(X=(D=J[Oe])==null?void 0:D.states)==null?void 0:X.active,ze=(Q=(z=J[De])==null?void 0:z.states)==null?void 0:Q.active;return T===pe&&Pe||We?"left":T===0&&Re||ze?"right":!1}function Y(){u.value=!0,t.pauseOnHover&&h()}function le(){u.value=!1,w()}function ie(){C.value=!1}function N(o){e(L)||r.value.forEach((T,D)=>{o===f(T,D)&&(T.states.hover=!0)})}function me(){e(L)||r.value.forEach(o=>{o.states.hover=!1})}function j(o){o!==a.value&&(b.value||(C.value=!0)),a.value=o}function W(o){t.trigger==="hover"&&o!==a.value&&(a.value=o,b.value||(C.value=!0))}function ue(){E(a.value-1)}function Be(){E(a.value+1)}function he(){h(),t.pauseOnHover||w()}function Ae(o){t.height==="auto"&&(k.value=o)}function He(){var o;const T=(o=I.default)==null?void 0:o.call(I);if(!T)return null;const D=ut(T),X="ElCarouselItem",z=D.filter(Q=>qe(Q)&&Q.type.name===X);return(z==null?void 0:z.length)===2&&t.loop&&!M.value?(x.value=!0,z):(x.value=!1,null)}Z(()=>a.value,(o,T)=>{p(T),x.value&&(o=o%2,T=T%2),T>-1&&i("change",o,T)}),Z(()=>t.autoplay,o=>{o?w():h()}),Z(()=>t.loop,()=>{E(a.value)}),Z(()=>t.interval,()=>{he()});const ce=Fe();return se(()=>{Z(()=>r.value,()=>{r.value.length>0&&E(t.initialIndex)},{immediate:!0}),ce.value=Ue(c.value,()=>{p()}),w()}),ke(()=>{h(),c.value&&ce.value&&ce.value.stop()}),Ge($e,{root:c,isCardType:M,isVertical:L,items:r,loop:t.loop,cardScale:t.cardScale,addItem:g,removeItem:y,setActiveItem:E,setContainerHeight:Ae}),{root:c,activeIndex:a,arrowDisplay:B,hasLabel:H,hover:u,isCardType:M,isTransitioning:C,items:r,isVertical:L,containerStyle:O,isItemsTwoLength:x,handleButtonEnter:N,handleTransitionEnd:ie,handleButtonLeave:me,handleIndicatorClick:j,handleMouseEnter:Y,handleMouseLeave:le,setActiveItem:E,prev:ue,next:Be,PlaceholderItem:He,isTwoLengthShow:n,throttledArrowClick:d,throttledIndicatorHover:m}},Mt="ElCarousel",Nt=ae({name:Mt}),$t=ae({...Nt,props:Tt,emits:St,setup(t,{expose:i,emit:s}){const r=t,{root:g,activeIndex:y,arrowDisplay:I,hasLabel:a,hover:v,isCardType:u,items:c,isVertical:k,containerStyle:x,handleButtonEnter:b,handleButtonLeave:C,isTransitioning:B,handleIndicatorClick:H,handleMouseEnter:M,handleMouseLeave:L,handleTransitionEnd:O,setActiveItem:d,prev:m,next:n,PlaceholderItem:h,isTwoLengthShow:w,throttledArrowClick:A,throttledIndicatorHover:E}=Et(r,s),p=Te("carousel"),{t:f}=Qe(),Y=R(()=>{const N=[p.b(),p.m(r.direction)];return e(u)&&N.push(p.m("card")),N}),le=R(()=>{const N=[p.e("container")];return r.motionBlur&&e(B)&&N.push(e(k)?`${p.namespace.value}-transitioning-vertical`:`${p.namespace.value}-transitioning`),N}),ie=R(()=>{const N=[p.e("indicators"),p.em("indicators",r.direction)];return e(a)&&N.push(p.em("indicators","labels")),r.indicatorPosition==="outside"&&N.push(p.em("indicators","outside")),e(k)&&N.push(p.em("indicators","right")),N});return i({activeIndex:y,setActiveItem:d,prev:m,next:n}),(N,me)=>(S(),$("div",{ref_key:"root",ref:g,class:P(e(Y)),onMouseenter:ee(e(M),["stop"]),onMouseleave:ee(e(L),["stop"])},[e(I)?(S(),fe(_e,{key:0,name:"carousel-arrow-left",persisted:""},{default:F(()=>[te(l("button",{type:"button",class:P([e(p).e("arrow"),e(p).em("arrow","left")]),"aria-label":e(f)("el.carousel.leftArrow"),onMouseenter:j=>e(b)("left"),onMouseleave:e(C),onClick:ee(j=>e(A)(e(y)-1),["stop"])},[V(e(ve),null,{default:F(()=>[V(e(Je))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[ne,(N.arrow==="always"||e(v))&&(r.loop||e(y)>0)]])]),_:1})):U("v-if",!0),e(I)?(S(),fe(_e,{key:1,name:"carousel-arrow-right",persisted:""},{default:F(()=>[te(l("button",{type:"button",class:P([e(p).e("arrow"),e(p).em("arrow","right")]),"aria-label":e(f)("el.carousel.rightArrow"),onMouseenter:j=>e(b)("right"),onMouseleave:e(C),onClick:ee(j=>e(A)(e(y)+1),["stop"])},[V(e(ve),null,{default:F(()=>[V(e(Ze))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[ne,(N.arrow==="always"||e(v))&&(r.loop||e(y)<e(c).length-1)]])]),_:1})):U("v-if",!0),l("div",{class:P(e(le)),style:Ee(e(x)),onTransitionend:e(O)},[V(e(h)),Se(N.$slots,"default")],46,["onTransitionend"]),N.indicatorPosition!=="none"?(S(),$("ul",{key:2,class:P(e(ie))},[(S(!0),$(G,null,K(e(c),(j,W)=>te((S(),$("li",{key:W,class:P([e(p).e("indicator"),e(p).em("indicator",N.direction),e(p).is("active",W===e(y))]),onMouseenter:ue=>e(E)(W),onClick:ee(ue=>e(H)(W),["stop"])},[l("button",{class:P(e(p).e("button")),"aria-label":e(f)("el.carousel.indicator",{index:W+1})},[e(a)?(S(),$("span",{key:0},q(j.props.label),1)):U("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[ne,e(w)(W)]])),128))],2)):U("v-if",!0),r.motionBlur?(S(),$("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[l("defs",null,[l("filter",{id:"elCarouselHorizontal"},[l("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),l("filter",{id:"elCarouselVertical"},[l("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):U("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var Lt=Me($t,[["__file","carousel.vue"]]);const Bt=we({name:{type:String,default:""},label:{type:[String,Number],default:""}}),At=(t,i)=>{const s=et($e),r=xe(),g=_(),y=_(!1),I=_(0),a=_(1),v=_(!1),u=_(!1),c=_(!1),k=_(!1),{isCardType:x,isVertical:b,cardScale:C}=s;function B(d,m,n){const h=n-1,w=m-1,A=m+1,E=n/2;return m===0&&d===h?-1:m===h&&d===0?n:d<w&&m-d>=E?n+1:d>A&&d-m>=E?-2:d}function H(d,m){var n,h;const w=e(b)?((n=s.root.value)==null?void 0:n.offsetHeight)||0:((h=s.root.value)==null?void 0:h.offsetWidth)||0;return c.value?w*((2-C)*(d-m)+1)/4:d<m?-(1+C)*w/4:(3+C)*w/4}function M(d,m,n){const h=s.root.value;return h?((n?h.offsetHeight:h.offsetWidth)||0)*(d-m):0}const L=(d,m,n)=>{var h;const w=e(x),A=(h=s.items.value.length)!=null?h:Number.NaN,E=d===m;!w&&!nt(n)&&(k.value=E||d===n),!E&&A>2&&s.loop&&(d=B(d,m,A));const p=e(b);v.value=E,w?(c.value=Math.round(Math.abs(d-m))<=1,I.value=H(d,m),a.value=e(v)?1:C):I.value=M(d,m,p),u.value=!0,E&&g.value&&s.setContainerHeight(g.value.offsetHeight)};function O(){if(s&&e(x)){const d=s.items.value.findIndex(({uid:m})=>m===r.uid);s.setActiveItem(d)}}return se(()=>{s.addItem({props:t,states:tt({hover:y,translate:I,scale:a,active:v,ready:u,inStage:c,animating:k}),uid:r.uid,translateItem:L})}),Ne(()=>{s.removeItem(r.uid)}),{carouselItemRef:g,active:v,animating:k,hover:y,inStage:c,isVertical:b,translate:I,isCardType:x,scale:a,ready:u,handleItemClick:O}},Ht=ae({name:"ElCarouselItem"}),Ot=ae({...Ht,props:Bt,setup(t){const i=t,s=Te("carousel"),{carouselItemRef:r,active:g,animating:y,hover:I,inStage:a,isVertical:v,translate:u,isCardType:c,scale:k,ready:x,handleItemClick:b}=At(i),C=R(()=>[s.e("item"),s.is("active",g.value),s.is("in-stage",a.value),s.is("hover",I.value),s.is("animating",y.value),{[s.em("item","card")]:c.value,[s.em("item","card-vertical")]:c.value&&v.value}]),B=R(()=>{const M=`${`translate${e(v)?"Y":"X"}`}(${e(u)}px)`,L=`scale(${e(k)})`;return{transform:[M,L].join(" ")}});return(H,M)=>te((S(),$("div",{ref_key:"carouselItemRef",ref:r,class:P(e(C)),style:Ee(e(B)),onClick:e(b)},[e(c)?te((S(),$("div",{key:0,class:P(e(s).e("mask"))},null,2)),[[ne,!e(g)]]):U("v-if",!0),Se(H.$slots,"default")],14,["onClick"])),[[ne,e(x)]])}});var Le=Me(Ot,[["__file","carousel-item.vue"]]);const Dt=at(Lt,{CarouselItem:Le}),Rt=ot(Le);function Pt(t,i,s){const r=_(0),g=_(0),y=_(!1),I=u=>{const c=u.touches[0];r.value=c.clientX,g.value=c.clientY,y.value=!0},a=u=>{if(!y.value||!t.value)return;const c=u.touches[0],k=c.clientX-r.value,x=c.clientY-g.value,b=t.value.getBoundingClientRect(),C=c.clientX,B=c.clientY;C<b.left||C>b.right||B<b.top||B>b.bottom||Math.abs(k)>Math.abs(x)&&(k>30?(i(),y.value=!1):k<-30&&(s(),y.value=!1))},v=()=>{y.value=!1};se(()=>{const u=t.value;u&&(u.addEventListener("touchstart",I),u.addEventListener("touchmove",a),u.addEventListener("touchend",v))}),Ne(()=>{const u=t.value;u&&(u.removeEventListener("touchstart",I),u.removeEventListener("touchmove",a),u.removeEventListener("touchend",v))})}const Wt={class:"px-3 md:px-8 lg:px-20"},zt={class:"lg:flex"},Vt=["onClick"],Yt=["src","alt"],jt={class:"absolute bottom-0 flex h-12 w-full items-center justify-center bg-gray-800/[.5] py-2 text-lg font-bold text-white transition-[height] duration-500 group-hover:h-full"},Xt=l("div",{class:"my-4 flex items-center text-lg font-bold md:text-2xl"},[re(" 限定款式"),l("i",{class:"fa-solid fa-angles-right animate-moveIcon"})],-1),Ft=["src","alt","onClick"],Ut=l("div",{class:"my-4 flex items-center text-lg font-bold md:text-2xl"},[re(" 甜點分類"),l("i",{class:"fa-solid fa-angles-right animate-moveIcon"})],-1),Gt={class:"flex space-x-4 overflow-x-auto py-2 lg:justify-around"},Kt=["onClick"],qt={class:"flex h-10 items-center justify-center bg-pink-200 font-bold"},Qt={class:"w-48 md:w-64"},Jt=["src","alt"],Zt={class:"mb-4"},en=l("div",{class:"my-4 flex items-center text-lg font-bold md:text-2xl"},[re(" 活動快訊"),l("i",{class:"fa-solid fa-angles-right animate-moveIcon"})],-1),tn={class:"rounded-md bg-yellow-500 p-3"},nn=["onClick"],an={class:"flex justify-between"},on={class:"text-sm font-bold md:text-base"},sn={class:"flex items-center text-xs font-bold md:text-sm"},rn={class:"text-end text-xs md:text-sm"},ln={class:"mb-[150px] flex flex-wrap justify-center rounded-md bg-gray-200 py-3"},un={class:"m-auto w-fit cursor-pointer border-b-2 border-black pb-2 text-center font-bold hover:border-blue-500 hover:text-blue-500 md:text-lg"},gn=ae({__name:"index",setup(t){const i=st(),s=ct(),r=dt(),{getImageUrl:g}=ft(),y=_([{name:"DIY課程",source:"DIY",path:"/DIY"},{name:"活動報名",source:"reserve",path:"/activity"},{name:"場地租借",source:"rent",path:"/rent"}]),I=_([{name:"生日限定款式",source:"birthday",section:"birthdayCake"},{name:"中秋限定款式",source:"moon-festival",section:"moonFestivalCake"}]),a=_([{name:"中秋限定",source:"moonCake",section:"moonFestivalCake"},{name:"生日蛋糕",source:"birthdayCake",section:"birthdayCake"},{name:"蛋糕",source:"redVelvetCake",section:"cake"},{name:"塔派",source:"lemonPie",section:"pie"},{name:"點心",source:"coffeeDonut",section:"snack"}]),v=_([{name:"品牌介紹"},{name:"服務項目"},{name:"產業合作"},{name:"分店資訊"},{name:"常見問題"},{name:"聯絡我們"}]),u=_(),c=_(null),k=_(),x=_(),b=R(()=>x.value?`${x.value*.666}px`:""),C=()=>{k.value=window.innerWidth,M()},B=()=>{var n;(n=u.value)==null||n.prev()},H=()=>{var n;(n=u.value)==null||n.next()},M=()=>{c.value&&(x.value=c.value.getBoundingClientRect().width)};Pt(c,B,H),se(()=>{window.addEventListener("resize",C),M()}),ke(()=>{window.removeEventListener("resize",C)});function L(n){i.push({path:n})}function O(n){i.push({path:"/DIY"}).then(async()=>{await lt(),setTimeout(()=>{s.section=n},300)})}function d(){i.push({path:"/activity"})}function m(n){i.push({path:n.path,query:{date:n.date,time:n.time,type:n.type}})}return(n,h)=>{const w=Rt,A=Dt,E=rt("DArrowRight"),p=ve;return S(),$("div",Wt,[l("div",zt,[(S(!0),$(G,null,K(e(y),f=>(S(),$("div",{key:f.name},[l("div",{class:"group relative m-auto my-3 mr-3 cursor-pointer overflow-hidden rounded-md",onClick:Y=>L(f.path)},[l("img",{src:e(g)(`${f.source}.png`),alt:f.name},null,8,Yt),l("div",jt,q(f.name),1)],8,Vt)]))),128))]),Xt,l("div",{ref_key:"carouselContainer",ref:c,class:"m-auto lg:w-[1000px]"},[V(A,{ref_key:"carousel",ref:u,arrow:"always",class:"m-auto mt-5 w-full cursor-pointer",height:e(b)},{default:F(()=>[(S(!0),$(G,null,K(e(I),f=>(S(),fe(w,{key:f.name},{default:F(()=>[l("img",{src:e(g)(`${f.source}.png`),alt:f.name,onClick:Y=>O(f.section)},null,8,Ft)]),_:2},1024))),128))]),_:1},8,["height"])],512),l("div",null,[Ut,l("div",Gt,[(S(!0),$(G,null,K(e(a),f=>(S(),$("div",{key:f.name,class:"flex-shrink-0 cursor-pointer overflow-hidden rounded-md hover:translate-x-1 hover:translate-y-1",onClick:Y=>O(f.section)},[l("div",qt,q(f.name),1),l("div",Qt,[l("img",{src:e(g)(`${f.source}.png`),alt:f.name},null,8,Jt)])],8,Kt))),128))])]),l("div",Zt,[en,l("div",tn,[(S(!0),$(G,null,K(e(r).activities.slice(0,4),f=>(S(),$("div",{key:f.name,class:"mb-2 cursor-pointer rounded-md bg-white px-2 py-1 hover:bg-sky-100"},[l("div",{onClick:Y=>m(f)},[l("div",an,[l("div",on,q(f.name),1),l("div",sn,[re(" 詳情"),V(p,null,{default:F(()=>[V(E)]),_:1})])]),l("div",rn,q(f.date),1)],8,nn)]))),128)),l("div",{class:"cursor-pointer text-end text-sm font-bold underline-offset-4 hover:underline",onClick:d}," 查看更多 ")])]),l("div",ln,[(S(!0),$(G,null,K(e(v),f=>(S(),$("div",{key:f.name,class:"mx-2 mb-4 w-[calc(50%-16px)] phone:w-[calc(33%-24px)]"},[l("div",un,q(f.name),1)]))),128))])])}}});export{gn as default};
