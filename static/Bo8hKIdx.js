import{d as Y,u as A,r as i,j as W,o as q,f as G,F as H,t as n,v as a,x as t,O as p,P as _,M as o,z as B,A as y,W as D,y as l,B as M,N as U,U as J,Y as K,a0 as Q,a1 as X}from"./OphSlgzW.js";import{E as Z}from"./DwYbvxe4.js";import"./Pqyqk8HP.js";import{E as ee}from"./aobK1NdL.js";import{u as te}from"./C5f0-rp9.js";import{u as oe}from"./CvUQX6fZ.js";import{u as le}from"./TCBaGAxW.js";import"./HEVJa2N9.js";import"./CRm-jryX.js";const se={class:"relative px-3 md:px-8 lg:px-20"},ne={class:"fixed right-0 top-1/2 z-50 -translate-y-1/2 rounded-sm bg-white/[.8] text-center"},ae=["onClick"],ie=t("div",{class:"mb-3 mt-1 text-center text-2xl font-bold"},"選擇款式",-1),ce=["onClick"],re=["src","alt"],de={class:"absolute bottom-0 flex w-full justify-between bg-black/[.4] px-4 py-2 text-lg font-bold text-white"},ue={class:"flex-wrap md:flex"},ve=["onClick"],pe=["src","alt"],_e={class:"absolute bottom-0 flex w-full justify-between bg-black/[.4] px-4 py-2 text-lg font-bold text-white"},fe={class:"flex-wrap md:flex"},me=["onClick"],be=["src","alt"],xe={class:"absolute bottom-0 flex w-full justify-between bg-black/[.4] px-4 py-2 text-lg font-bold text-white"},he={class:"flex-wrap md:flex"},ke=["onClick"],ye=["src","alt"],ge={class:"absolute bottom-0 flex w-full justify-between bg-black/[.4] px-4 py-2 text-lg font-bold text-white"},we={class:"flex-wrap md:flex"},Ce=["onClick"],$e=["src","alt"],Se={class:"absolute bottom-0 flex w-full justify-between bg-black/[.4] px-4 py-2 text-lg font-bold text-white"},Be={class:"lg:flex"},Ee={class:"mr-2 mt-2 lg:w-1/2"},Pe=["src","alt"],Ve={class:"lg:w-1/2"},Fe={class:"my-2 flex justify-between"},Ne={class:"text-2xl font-bold"},Te={class:"font-bold"},je=t("div",null,"可兩人一同製作, 第三人需獨立製作一份甜點",-1),We={key:0,class:"text-red-500"},De={key:1},Me=t("option",{value:"請選擇款式",disabled:"",selected:""},"請選擇款式",-1),Ue=["value"],ze=t("div",{class:"my-2 text-xl font-bold"},"產品特色",-1),Ie=t("div",{class:"my-2 text-xl font-bold"},"保存方式",-1),Le=t("div",null,[t("li",null,"製作完成後需在2小時內冷藏。"),t("li",null,"請冷藏至少2小時,待內餡凝固再食用。"),t("li",null,"請於3天內食用完,口感較佳。")],-1),Oe={class:"my-2 text-end text-2xl font-bold"},Re=t("div",{class:"rounded-md bg-pink-100 px-4 py-2 lg:text-lg"},[t("p",null,"1. 因安全考量,無論是否有大人陪同,6歲以下小朋友都無法入場。"),t("p",null,"2. 所有訂位『僅保留10分鐘』須全員到齊,逾時請現場候位。"),t("p",null,"3. 甜點製作環境,寵物無法入店, 嚴禁:外食、菸、酒、檳榔。")],-1),Ye={class:"lg:px-10"},tt=Y({__name:"DIY",setup(Ae){const{getImageUrl:f}=te(),E=oe(),s=le(),z=A(),I=i([{name:"生日優惠",section:"birthdayCake"},{name:"中秋限定",section:"moonFestivalCake"},{name:"蛋糕",section:"cake"},{name:"塔派",section:"pie"},{name:"點心",section:"snack"}]),P=i(null),V=i(null),F=i(null),N=i(null),T=i(null),m=i("請選擇款式"),L=W(()=>g.value>=1024?112:80),j=async r=>{await Q();const d={birthdayCake:P,moonFestivalCake:V,cake:F,pie:N,snack:T}[r];if(d!=null&&d.value){const e=d.value.getBoundingClientRect(),v=window.scrollY+e.top-L.value;window.scrollTo({top:v,behavior:"smooth"})}},O=W(()=>g.value>768?"50%":"90%"),g=i(),b=i(!1);function w(){g.value=window.innerWidth}const u=i(),C=i(),$=i(),S=i(),h=i();function x(r,c,d,k,e){m.value="請選擇款式",u.value=r,$.value=c,C.value=d,S.value=k,h.value=e,b.value=!0}q(()=>{window.addEventListener("resize",w),w()}),G(()=>{window.removeEventListener("resize",w)}),H(()=>{E.section&&j(E.section)});function R(){if(u.value==="生日蛋糕")if(m.value==="請選擇款式"){ee.alert("請選擇蛋糕款式","提示",{confirmButtonText:"確認"});return}else{const r=s.allProducts.find(c=>c.name===m.value);r&&(s.productName=r.name,s.productPrice=r.price,s.productSource=r.source,s.productTime=r.time,s.birthdayCake=!0)}else s.productName=u.value,s.productPrice=$.value,s.productSource=S.value,s.productTime=C.value,s.birthdayCake=!1;b.value=!1,z.push({path:"/order"})}return(r,c)=>{const d=X,k=Z;return n(),a("div",se,[t("div",ne,[(n(!0),a(p,null,_(o(I),e=>(n(),a("div",{key:e.name},[t("div",{class:"cursor-pointer p-2 font-bold hover:bg-pink-100",onClick:v=>j(e.section)},l(e.name),9,ae)]))),128))]),ie,t("div",{id:"birthdayCake",ref_key:"birthdayCake",ref:P,class:"border-b-2 border-black py-2 text-xl font-bold"}," 壽星優惠(限當日壽星) ",512),(n(!0),a(p,null,_(o(s).birthday,e=>(n(),a("div",{key:e.name},[t("div",{class:"relative my-2 mr-2 cursor-pointer md:w-80",onClick:v=>x(e.name,e.price,e.time,e.source,e.material)},[t("img",{src:o(f)(`${e.source}.png`),alt:e.name},null,8,re),t("div",de,[t("div",null,l(e.name),1),t("div",null,"$ "+l(e.price),1)])],8,ce)]))),128)),t("div",{id:"moonFestivalCake",ref_key:"moonFestivalCake",ref:V,class:"border-b-2 border-black py-2 text-xl font-bold"}," 中秋節限定 ",512),t("div",ue,[(n(!0),a(p,null,_(o(s).moonFestival,e=>(n(),a("div",{key:e.name},[t("div",{class:"relative my-2 mr-2 cursor-pointer md:w-80",onClick:v=>x(e.name,e.price,e.time,e.source,e.material)},[t("img",{src:o(f)(`${e.source}.png`),alt:e.name},null,8,pe),t("div",_e,[t("div",null,l(e.name),1),t("div",null,"$ "+l(e.price),1)])],8,ve)]))),128))]),t("div",{id:"cake",ref_key:"cake",ref:F,class:"border-b-2 border-black py-2 text-xl font-bold"},"蛋糕",512),t("div",fe,[(n(!0),a(p,null,_(o(s).cakes,e=>(n(),a("div",{key:e.name},[t("div",{class:"relative my-2 mr-2 cursor-pointer md:w-80",onClick:v=>x(e.name,e.price,e.time,e.source,e.material)},[t("img",{src:o(f)(`${e.source}.png`),alt:e.name},null,8,be),t("div",xe,[t("div",null,l(e.name),1),t("div",null,"$ "+l(e.price),1)])],8,me)]))),128))]),t("div",{id:"pie",ref_key:"pie",ref:N,class:"border-b-2 border-black py-2 text-xl font-bold"},"塔派",512),t("div",he,[(n(!0),a(p,null,_(o(s).pies,e=>(n(),a("div",{key:e.name},[t("div",{class:"relative my-2 mr-2 cursor-pointer md:w-80",onClick:v=>x(e.name,e.price,e.time,e.source,e.material)},[t("img",{src:o(f)(`${e.source}.png`),alt:e.name},null,8,ye),t("div",ge,[t("div",null,l(e.name),1),t("div",null,"$ "+l(e.price),1)])],8,ke)]))),128))]),t("div",{id:"snack",ref_key:"snack",ref:T,class:"border-b-2 border-black py-2 text-xl font-bold"},"點心",512),t("div",we,[(n(!0),a(p,null,_(o(s).snacks,e=>(n(),a("div",{key:e.name},[t("div",{class:"relative my-2 mr-2 cursor-pointer md:w-80",onClick:v=>x(e.name,e.price,e.time,e.source,e.material)},[t("img",{src:o(f)(`${e.source}.png`),alt:e.name},null,8,$e),t("div",Se,[t("div",null,l(e.name),1),t("div",null,"$ "+l(e.price),1)])],8,Ce)]))),128))]),B(k,{modelValue:o(b),"onUpdate:modelValue":c[2]||(c[2]=e=>D(b)?b.value=e:null),width:o(O)},{footer:y(()=>[t("div",Ye,[B(d,{onClick:c[1]||(c[1]=e=>b.value=!1)},{default:y(()=>[M("關閉")]),_:1}),B(d,{type:"primary",onClick:R},{default:y(()=>[M(" 立即預約 ")]),_:1})])]),default:y(()=>[t("div",Be,[t("div",Ee,[t("img",{src:o(f)(`${o(S)}.png`),alt:o(u)},null,8,Pe)]),t("div",Ve,[t("div",Fe,[t("div",Ne,l(o(u)),1),t("div",Te,"預計耗時 : "+l(o(C))+"hr",1)]),je,o(u)==="生日蛋糕"?(n(),a("div",We," 備註:免費生日蛋糕優惠需搭配另一種類蛋糕使用 ")):U("",!0),o(u)==="生日蛋糕"?(n(),a("div",De,[J(t("select",{"onUpdate:modelValue":c[0]||(c[0]=e=>D(m)?m.value=e:null),class:"my-1 w-full py-1 pl-2"},[Me,(n(!0),a(p,null,_(o(s).allProducts,e=>(n(),a("option",{key:e.name,value:e.name},[t("div",null,l(e.name)+" - $"+l(e.price),1)],8,Ue))),128))],512),[[K,o(m)]])])):U("",!0),ze,t("div",null,[t("li",null," 主體: "+l(o(h).main),1),t("li",null," 內餡: "+l(o(h).filling),1),t("li",null," 裝飾: "+l(o(h).decoration),1)]),Ie,Le,t("div",Oe,"價格 : $ "+l(o($)),1)])]),Re]),_:1},8,["modelValue","width"])])}}});export{tt as default};
