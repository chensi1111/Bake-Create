import{aN as se,j as v,bt as qe,K as Ve,o as $e,F as Ge,f as Ze,aJ as Me,W as et,bu as tt,ad as ae,bv as Pe,H as _,bw as ot,bx as nt,b0 as at,by as st,bz as oe,a8 as ne,r as J,bA as ce,br as Te,a0 as N,a6 as Le,a5 as He,bB as lt,aE as Q,az as Ne,b4 as it,bC as rt,ab as de,d as he,aY as ut,a7 as ct,bD as dt,bE as pt,bF as ft,bG as vt,bH as mt,bI as ht,bJ as yt,bK as bt,a9 as gt,bL as Fe,aT as xt,t as y,v as I,N as b,O as pe,ag as x,M as n,al as W,x as A,af as k,A as j,aB as Z,Q as U,aQ as fe,z as Ae,bM as wt,ah as Ct,y as ee,am as St,an as Et,bq as Be,as as It,h as kt}from"./eY1TCqrd.js";import{U as me}from"./HEVJa2N9.js";import{P as ve}from"./lXTnVocZ.js";const zt=()=>se&&/firefox/i.test(window.navigator.userAgent);let te;const Mt=t=>{var l;if(!se)return 0;if(te!==void 0)return te;const a=document.createElement("div");a.className=`${t}-scrollbar__wrap`,a.style.visibility="hidden",a.style.width="100px",a.style.position="absolute",a.style.top="-9999px",document.body.appendChild(a);const o=a.offsetWidth;a.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",a.appendChild(s);const i=s.offsetWidth;return(l=a.parentNode)==null||l.removeChild(a),te=o-i,te},Pt=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t),Tt=["class","style"],Lt=/^on[A-Z]/,Nt=(t={})=>{const{excludeListeners:l=!1,excludeKeys:a}=t,o=v(()=>((a==null?void 0:a.value)||[]).concat(Tt)),s=Ve();return s?v(()=>{var i;return qe(Object.entries((i=s.proxy)==null?void 0:i.$attrs).filter(([r])=>!o.value.includes(r)&&!(l&&Lt.test(r))))}):v(()=>({}))},Zt=(t,l,a,o)=>{let s={offsetX:0,offsetY:0};const i=h=>{const g=h.clientX,f=h.clientY,{offsetX:m,offsetY:w}=s,C=t.value.getBoundingClientRect(),c=C.left,Y=C.top,F=C.width,S=C.height,D=document.documentElement.clientWidth,B=document.documentElement.clientHeight,q=-c+m,O=-Y+w,z=D-c-F+m,le=B-Y-S+w,T=M=>{let L=m+M.clientX-g,V=w+M.clientY-f;o!=null&&o.value||(L=Math.min(Math.max(L,q),z),V=Math.min(Math.max(V,O),le)),s={offsetX:L,offsetY:V},t.value&&(t.value.style.transform=`translate(${Me(L)}, ${Me(V)})`)},K=()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",K)};document.addEventListener("mousemove",T),document.addEventListener("mouseup",K)},r=()=>{l.value&&t.value&&l.value.addEventListener("mousedown",i)},u=()=>{l.value&&t.value&&l.value.removeEventListener("mousedown",i)},d=()=>{s={offsetX:0,offsetY:0},t.value&&(t.value.style.transform="none")};return $e(()=>{Ge(()=>{a.value?r():u()})}),Ze(()=>{u()}),{resetPostion:d}},eo=(t,l={})=>{et(t)||tt("[useLockscreen]","You need to pass a ref param to this function");const a=l.ns||ae("popup"),o=v(()=>a.bm("parent","hidden"));if(!se||Pe(document.body,o.value))return;let s=0,i=!1,r="0";const u=()=>{setTimeout(()=>{st(document==null?void 0:document.body,o.value),i&&document&&(document.body.style.width=r)},200)};_(t,d=>{if(!d){u();return}i=!Pe(document.body,o.value),i&&(r=document.body.style.width),s=Mt(a.namespace.value);const h=document.documentElement.clientHeight<document.body.scrollHeight,g=ot(document.body,"overflowY");s>0&&(h||g==="scroll")&&i&&(document.body.style.width=`calc(100% - ${s}px)`),nt(document.body,o.value)}),at(()=>u())},Ft=t=>{if(!t)return{onClick:oe,onMousedown:oe,onMouseup:oe};let l=!1,a=!1;return{onClick:r=>{l&&a&&t(r),l=a=!1},onMousedown:r=>{l=r.target===r.currentTarget},onMouseup:r=>{a=r.target===r.currentTarget}}};function Bt(t){let l;function a(){if(t.value==null)return;const{selectionStart:s,selectionEnd:i,value:r}=t.value;if(s==null||i==null)return;const u=r.slice(0,Math.max(0,s)),d=r.slice(Math.max(0,i));l={selectionStart:s,selectionEnd:i,value:r,beforeTxt:u,afterTxt:d}}function o(){if(t.value==null||l==null)return;const{value:s}=t.value,{beforeTxt:i,afterTxt:r,selectionStart:u}=l;if(i==null||r==null||u==null)return;let d=s.length;if(s.endsWith(r))d=s.length-r.length;else if(s.startsWith(i))d=i.length;else{const h=i[u-1],g=s.indexOf(h,u-1);g!==-1&&(d=g+1)}t.value.setSelectionRange(d,d)}return[a,o]}function Ot(t,{beforeFocus:l,afterFocus:a,beforeBlur:o,afterBlur:s}={}){const i=Ve(),{emit:r}=i,u=ne(),d=J(!1),h=m=>{Te(l)&&l(m)||d.value||(d.value=!0,r("focus",m),a==null||a())},g=m=>{var w;Te(o)&&o(m)||m.relatedTarget&&((w=u.value)!=null&&w.contains(m.relatedTarget))||(d.value=!1,r("blur",m),s==null||s())},f=()=>{var m,w;(m=u.value)!=null&&m.contains(document.activeElement)&&u.value!==document.activeElement||(w=t.value)==null||w.focus()};return _(u,m=>{m&&m.setAttribute("tabindex","-1")}),ce(u,"focus",h,!0),ce(u,"blur",g,!0),ce(u,"click",f,!0),{isFocused:d,wrapperRef:u,handleFocus:h,handleBlur:g}}function Vt({afterComposition:t,emit:l}){const a=J(!1),o=u=>{l==null||l("compositionstart",u),a.value=!0},s=u=>{var d;l==null||l("compositionupdate",u);const h=(d=u.target)==null?void 0:d.value,g=h[h.length-1]||"";a.value=!Pt(g)},i=u=>{l==null||l("compositionend",u),a.value&&(a.value=!1,N(()=>t(u)))};return{isComposing:a,handleComposition:u=>{u.type==="compositionend"?i(u):s(u)},handleCompositionStart:o,handleCompositionUpdate:s,handleCompositionEnd:i}}let E;const $t=`
  height:0 !important;
  visibility:hidden !important;
  ${zt()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Ht=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function At(t){const l=window.getComputedStyle(t),a=l.getPropertyValue("box-sizing"),o=Number.parseFloat(l.getPropertyValue("padding-bottom"))+Number.parseFloat(l.getPropertyValue("padding-top")),s=Number.parseFloat(l.getPropertyValue("border-bottom-width"))+Number.parseFloat(l.getPropertyValue("border-top-width"));return{contextStyle:Ht.map(r=>`${r}:${l.getPropertyValue(r)}`).join(";"),paddingSize:o,borderSize:s,boxSizing:a}}function Oe(t,l=1,a){var o;E||(E=document.createElement("textarea"),document.body.appendChild(E));const{paddingSize:s,borderSize:i,boxSizing:r,contextStyle:u}=At(t);E.setAttribute("style",`${u};${$t}`),E.value=t.value||t.placeholder||"";let d=E.scrollHeight;const h={};r==="border-box"?d=d+i:r==="content-box"&&(d=d-s),E.value="";const g=E.scrollHeight-s;if(Le(l)){let f=g*l;r==="border-box"&&(f=f+s+i),d=Math.max(f,d),h.minHeight=`${f}px`}if(Le(a)){let f=g*a;r==="border-box"&&(f=f+s+i),d=Math.min(f,d)}return h.height=`${d}px`,(o=E.parentNode)==null||o.removeChild(E),E=void 0,h}const Wt=He({id:{type:String,default:void 0},size:lt,disabled:Boolean,modelValue:{type:Q([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Q([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:Ne},prefixIcon:{type:Ne},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Q([Object,Array,String]),default:()=>it({})},autofocus:Boolean,rows:{type:Number,default:2},...rt(["ariaLabel"])}),Yt={[me]:t=>de(t),input:t=>de(t),change:t=>de(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},Dt=he({name:"ElInput",inheritAttrs:!1}),Kt=he({...Dt,props:Wt,emits:Yt,setup(t,{expose:l,emit:a}){const o=t,s=ut(),i=ct(),r=v(()=>{const e={};return o.containerRole==="combobox"&&(e["aria-haspopup"]=s["aria-haspopup"],e["aria-owns"]=s["aria-owns"],e["aria-expanded"]=s["aria-expanded"]),e}),u=v(()=>[o.type==="textarea"?Y.b():c.b(),c.m(w.value),c.is("disabled",C.value),c.is("exceed",Ye.value),{[c.b("group")]:i.prepend||i.append,[c.m("prefix")]:i.prefix||o.prefixIcon,[c.m("suffix")]:i.suffix||o.suffixIcon||o.clearable||o.showPassword,[c.bm("suffix","password-clear")]:G.value&&ie.value,[c.b("hidden")]:o.type==="hidden"},s.class]),d=v(()=>[c.e("wrapper"),c.is("focus",T.value)]),h=Nt({excludeKeys:v(()=>Object.keys(r.value))}),{form:g,formItem:f}=dt(),{inputId:m}=pt(o,{formItemContext:f}),w=ft(),C=vt(),c=ae("input"),Y=ae("textarea"),F=ne(),S=ne(),D=J(!1),B=J(!1),q=J(),O=ne(o.inputStyle),z=v(()=>F.value||S.value),{wrapperRef:le,isFocused:T}=Ot(z,{afterBlur(){var e;o.validateEvent&&((e=f==null?void 0:f.validate)==null||e.call(f,"blur").catch(p=>Fe()))}}),K=v(()=>{var e;return(e=g==null?void 0:g.statusIcon)!=null?e:!1}),M=v(()=>(f==null?void 0:f.validateState)||""),L=v(()=>M.value&&mt[M.value]),V=v(()=>B.value?ht:yt),We=v(()=>[s.style]),ye=v(()=>[o.inputStyle,O.value,{resize:o.resize}]),P=v(()=>bt(o.modelValue)?"":String(o.modelValue)),G=v(()=>o.clearable&&!C.value&&!o.readonly&&!!P.value&&(T.value||D.value)),ie=v(()=>o.showPassword&&!C.value&&!o.readonly&&!!P.value&&(!!P.value||T.value)),$=v(()=>o.showWordLimit&&!!o.maxlength&&(o.type==="text"||o.type==="textarea")&&!C.value&&!o.readonly&&!o.showPassword),re=v(()=>P.value.length),Ye=v(()=>!!$.value&&re.value>Number(o.maxlength)),De=v(()=>!!i.suffix||!!o.suffixIcon||G.value||o.showPassword||$.value||!!M.value&&K.value),[Ke,Re]=Bt(F);gt(S,e=>{if(Xe(),!$.value||o.resize!=="both")return;const p=e[0],{width:H}=p.contentRect;q.value={right:`calc(100% - ${H+15+6}px)`}});const R=()=>{const{type:e,autosize:p}=o;if(!(!se||e!=="textarea"||!S.value))if(p){const H=Be(p)?p.minRows:void 0,ke=Be(p)?p.maxRows:void 0,ze=Oe(S.value,H,ke);O.value={overflowY:"hidden",...ze},N(()=>{S.value.offsetHeight,O.value=ze})}else O.value={minHeight:Oe(S.value).minHeight}},Xe=(e=>{let p=!1;return()=>{var H;if(p||!o.autosize)return;((H=S.value)==null?void 0:H.offsetParent)===null||(e(),p=!0)}})(R),X=()=>{const e=z.value,p=o.formatter?o.formatter(P.value):P.value;!e||e.value===p||(e.value=p)},ue=async e=>{Ke();let{value:p}=e.target;if(o.formatter&&(p=o.parser?o.parser(p):p),!ge.value){if(p===P.value){X();return}a(me,p),a("input",p),await N(),X(),Re()}},be=e=>{a("change",e.target.value)},{isComposing:ge,handleCompositionStart:xe,handleCompositionUpdate:we,handleCompositionEnd:Ce}=Vt({emit:a,afterComposition:ue}),je=()=>{B.value=!B.value,Se()},Se=async()=>{var e;await N(),(e=z.value)==null||e.focus()},Ue=()=>{var e;return(e=z.value)==null?void 0:e.blur()},_e=e=>{D.value=!1,a("mouseleave",e)},Je=e=>{D.value=!0,a("mouseenter",e)},Ee=e=>{a("keydown",e)},Qe=()=>{var e;(e=z.value)==null||e.select()},Ie=()=>{a(me,""),a("change",""),a("clear"),a("input","")};return _(()=>o.modelValue,()=>{var e;N(()=>R()),o.validateEvent&&((e=f==null?void 0:f.validate)==null||e.call(f,"change").catch(p=>Fe()))}),_(P,()=>X()),_(()=>o.type,async()=>{await N(),X(),R()}),$e(()=>{!o.formatter&&o.parser,X(),N(R)}),l({input:F,textarea:S,ref:z,textareaStyle:ye,autosize:xt(o,"autosize"),isComposing:ge,focus:Se,blur:Ue,select:Qe,clear:Ie,resizeTextarea:R}),(e,p)=>(y(),I("div",fe(n(r),{class:[n(u),{[n(c).bm("group","append")]:e.$slots.append,[n(c).bm("group","prepend")]:e.$slots.prepend}],style:n(We),role:e.containerRole,onMouseenter:Je,onMouseleave:_e}),[b(" input "),e.type!=="textarea"?(y(),I(pe,{key:0},[b(" prepend slot "),e.$slots.prepend?(y(),I("div",{key:0,class:x(n(c).be("group","prepend"))},[W(e.$slots,"prepend")],2)):b("v-if",!0),A("div",{ref_key:"wrapperRef",ref:le,class:x(n(d))},[b(" prefix slot "),e.$slots.prefix||e.prefixIcon?(y(),I("span",{key:0,class:x(n(c).e("prefix"))},[A("span",{class:x(n(c).e("prefix-inner"))},[W(e.$slots,"prefix"),e.prefixIcon?(y(),k(n(U),{key:0,class:x(n(c).e("icon"))},{default:j(()=>[(y(),k(Z(e.prefixIcon)))]),_:1},8,["class"])):b("v-if",!0)],2)],2)):b("v-if",!0),A("input",fe({id:n(m),ref_key:"input",ref:F,class:n(c).e("inner")},n(h),{minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?B.value?"text":"password":e.type,disabled:n(C),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,onCompositionstart:n(xe),onCompositionupdate:n(we),onCompositionend:n(Ce),onInput:ue,onChange:be,onKeydown:Ee}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","onCompositionstart","onCompositionupdate","onCompositionend"]),b(" suffix slot "),n(De)?(y(),I("span",{key:1,class:x(n(c).e("suffix"))},[A("span",{class:x(n(c).e("suffix-inner"))},[!n(G)||!n(ie)||!n($)?(y(),I(pe,{key:0},[W(e.$slots,"suffix"),e.suffixIcon?(y(),k(n(U),{key:0,class:x(n(c).e("icon"))},{default:j(()=>[(y(),k(Z(e.suffixIcon)))]),_:1},8,["class"])):b("v-if",!0)],64)):b("v-if",!0),n(G)?(y(),k(n(U),{key:1,class:x([n(c).e("icon"),n(c).e("clear")]),onMousedown:Ct(n(oe),["prevent"]),onClick:Ie},{default:j(()=>[Ae(n(wt))]),_:1},8,["class","onMousedown"])):b("v-if",!0),n(ie)?(y(),k(n(U),{key:2,class:x([n(c).e("icon"),n(c).e("password")]),onClick:je},{default:j(()=>[(y(),k(Z(n(V))))]),_:1},8,["class"])):b("v-if",!0),n($)?(y(),I("span",{key:3,class:x(n(c).e("count"))},[A("span",{class:x(n(c).e("count-inner"))},ee(n(re))+" / "+ee(e.maxlength),3)],2)):b("v-if",!0),n(M)&&n(L)&&n(K)?(y(),k(n(U),{key:4,class:x([n(c).e("icon"),n(c).e("validateIcon"),n(c).is("loading",n(M)==="validating")])},{default:j(()=>[(y(),k(Z(n(L))))]),_:1},8,["class"])):b("v-if",!0)],2)],2)):b("v-if",!0)],2),b(" append slot "),e.$slots.append?(y(),I("div",{key:1,class:x(n(c).be("group","append"))},[W(e.$slots,"append")],2)):b("v-if",!0)],64)):(y(),I(pe,{key:1},[b(" textarea "),A("textarea",fe({id:n(m),ref_key:"textarea",ref:S,class:[n(Y).e("inner"),n(c).is("focus",n(T))]},n(h),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:n(C),readonly:e.readonly,autocomplete:e.autocomplete,style:n(ye),"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,onCompositionstart:n(xe),onCompositionupdate:n(we),onCompositionend:n(Ce),onInput:ue,onChange:be,onKeydown:Ee}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","onCompositionstart","onCompositionupdate","onCompositionend"]),n($)?(y(),I("span",{key:0,style:St(q.value),class:x(n(c).e("count"))},ee(n(re))+" / "+ee(e.maxlength),7)):b("v-if",!0)],64))],16,["role"]))}});var Rt=Et(Kt,[["__file","input.vue"]]);const to=It(Rt),Xt=He({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:Q([String,Array,Object])},zIndex:{type:Q([String,Number])}}),jt={click:t=>t instanceof MouseEvent},Ut="overlay";var _t=he({name:"ElOverlay",props:Xt,emits:jt,setup(t,{slots:l,emit:a}){const o=ae(Ut),s=d=>{a("click",d)},{onClick:i,onMousedown:r,onMouseup:u}=Ft(t.customMaskEvent?void 0:s);return()=>t.mask?Ae("div",{class:[o.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:i,onMousedown:r,onMouseup:u},[W(l,"default")],ve.STYLE|ve.CLASS|ve.PROPS,["onClick","onMouseup","onMousedown"]):kt("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[W(l,"default")])}});const oo=_t;export{to as E,eo as a,oo as b,Ft as c,Zt as u};
