import{d as A,u as Y,r as i,j as D,o as X,f as Z,F as q,t as n,v as a,x as t,O as p,P as _,M as o,z as V,A as y,X as M,y as l,B as W,N as z,V as G,Z as H,a2 as J,a3 as K}from"./BmZGITcj.js";import{E as Q}from"./Ba_Ig5Q7.js";import"./CI-i938_.js";import{E as ee}from"./Chm8fp1U.js";import"./zipjig6X.js";import{u as te}from"./CmwSIr80.js";import{u as oe}from"./egjPwubZ.js";import{u as le}from"./Bf4DGcnN.js";import"./HEVJa2N9.js";import"./NlcI7sxJ.js";const se={class:"relative px-3 md:px-8 lg:px-20"},ne={class:"fixed right-0 top-1/2 z-50 -translate-y-1/2 rounded-sm bg-white/[.8] text-center"},ae=["onClick"],ie=t("div",{class:"mb-3 mt-1 text-center text-2xl font-bold"},"選擇款式",-1),re=["onClick"],ce=["src","alt"],de={class:"absolute bottom-0 flex w-full justify-between bg-black/[.4] px-4 py-2 text-lg font-bold text-white"},ue={class:"flex-wrap md:flex"},ve=["onClick"],pe=["src","alt"],_e={class:"absolute bottom-0 flex w-full justify-between bg-black/[.4] px-4 py-2 text-lg font-bold text-white"},fe={class:"flex-wrap md:flex"},me=["onClick"],be=["src","alt"],xe={class:"absolute bottom-0 flex w-full justify-between bg-black/[.4] px-4 py-2 text-lg font-bold text-white"},he={class:"flex-wrap md:flex"},ke=["onClick"],ye=["src","alt"],ge={class:"absolute bottom-0 flex w-full justify-between bg-black/[.4] px-4 py-2 text-lg font-bold text-white"},we={class:"flex-wrap md:flex"},Ce=["onClick"],$e=["src","alt"],Se={class:"absolute bottom-0 flex w-full justify-between bg-black/[.4] px-4 py-2 text-lg font-bold text-white"},Ve={class:"lg:flex"},Be={class:"mr-2 mt-2 lg:w-1/2"},Ee=["src","alt"],Pe={class:"lg:w-1/2"},Fe={class:"my-2 flex justify-between"},Ne={class:"text-2xl font-bold"},Te={class:"font-bold"},je=t("div",null,"可兩人一同製作, 第三人需獨立製作一份甜點",-1),De={key:0,class:"text-red-500"},Me={key:1},We=t("option",{value:"請選擇款式",disabled:"",selected:""},"請選擇款式",-1),ze=["value"],Ue=t("div",{class:"my-2 text-xl font-bold"},"產品特色",-1),Ie=t("div",{class:"my-2 text-xl font-bold"},"保存方式",-1),Le=t("div",null,[t("li",null,"製作完成後需在2小時內冷藏。"),t("li",null,"請冷藏至少2小時,待內餡凝固再食用。"),t("li",null,"請於3天內食用完,口感較佳。")],-1),Oe={class:"my-2 text-end text-2xl font-bold"},Re=t("div",{class:"rounded-md bg-pink-100 px-4 py-2 lg:text-lg"},[t("p",null,"1. 因安全考量,無論是否有大人陪同,6歲以下小朋友都無法入場。"),t("p",null,"2. 所有訂位『僅保留10分鐘』須全員到齊,逾時請現場候位。"),t("p",null,"3. 甜點製作環境,寵物無法入店, 嚴禁:外食、菸、酒、檳榔。")],-1),Ae={class:"lg:px-10"},ot=A({__name:"DIY",setup(Ye){const{getImageUrl:f}=te(),B=oe(),s=le(),U=Y(),I=i([{name:"生日優惠",section:"birthdayCake"},{name:"中秋限定",section:"moonFestivalCake"},{name:"蛋糕",section:"cake"},{name:"塔派",section:"pie"},{name:"點心",section:"snack"}]),E=i(null),P=i(null),F=i(null),N=i(null),T=i(null),m=i("請選擇款式"),L=D(()=>g.value>=1024?112:80),j=async c=>{await J();const d={birthdayCake:E,moonFestivalCake:P,cake:F,pie:N,snack:T}[c];if(d!=null&&d.value){const e=d.value.getBoundingClientRect(),v=window.scrollY+e.top-L.value;window.scrollTo({top:v,behavior:"smooth"})}},O=D(()=>g.value>768?"50%":"90%"),g=i(),b=i(!1);function w(){g.value=window.innerWidth}const u=i(),C=i(),$=i(),S=i(),h=i();function x(c,r,d,k,e){m.value="請選擇款式",u.value=c,$.value=r,C.value=d,S.value=k,h.value=e,b.value=!0}X(()=>{window.addEventListener("resize",w),w()}),Z(()=>{window.removeEventListener("resize",w)}),q(()=>{B.section&&j(B.section)});function R(){if(u.value==="生日蛋糕")if(m.value==="請選擇款式"){ee.alert("請選擇蛋糕款式","提示",{confirmButtonText:"確認"});return}else{const c=s.allProducts.find(r=>r.name===m.value);c&&(s.productName=c.name,s.productPrice=c.price,s.productSource=c.source,s.productTime=c.time,s.birthdayCake=!0)}else s.productName=u.value,s.productPrice=$.value,s.productSource=S.value,s.productTime=C.value,s.birthdayCake=!1;b.value=!1,U.push({path:"/order"})}return(c,r)=>{const d=K,k=Q;return n(),a("div",se,[t("div",ne,[(n(!0),a(p,null,_(o(I),e=>(n(),a("div",{key:e.name},[t("div",{class:"cursor-pointer p-2 font-bold hover:bg-pink-100",onClick:v=>j(e.section)},l(e.name),9,ae)]))),128))]),ie,t("div",{id:"birthdayCake",ref_key:"birthdayCake",ref:E,class:"border-b-2 border-black py-2 text-xl font-bold"}," 壽星優惠(限當日壽星) ",512),(n(!0),a(p,null,_(o(s).birthday,e=>(n(),a("div",{key:e.name},[t("div",{class:"relative my-2 mr-2 cursor-pointer md:w-80",onClick:v=>x(e.name,e.price,e.time,e.source,e.material)},[t("img",{src:o(f)(`${e.source}.png`),alt:e.name},null,8,ce),t("div",de,[t("div",null,l(e.name),1),t("div",null,"$ "+l(e.price),1)])],8,re)]))),128)),t("div",{id:"moonFestivalCake",ref_key:"moonFestivalCake",ref:P,class:"border-b-2 border-black py-2 text-xl font-bold"}," 中秋節限定 ",512),t("div",ue,[(n(!0),a(p,null,_(o(s).moonFestival,e=>(n(),a("div",{key:e.name},[t("div",{class:"relative my-2 mr-2 cursor-pointer md:w-80",onClick:v=>x(e.name,e.price,e.time,e.source,e.material)},[t("img",{src:o(f)(`${e.source}.png`),alt:e.name},null,8,pe),t("div",_e,[t("div",null,l(e.name),1),t("div",null,"$ "+l(e.price),1)])],8,ve)]))),128))]),t("div",{id:"cake",ref_key:"cake",ref:F,class:"border-b-2 border-black py-2 text-xl font-bold"},"蛋糕",512),t("div",fe,[(n(!0),a(p,null,_(o(s).cakes,e=>(n(),a("div",{key:e.name},[t("div",{class:"relative my-2 mr-2 cursor-pointer md:w-80",onClick:v=>x(e.name,e.price,e.time,e.source,e.material)},[t("img",{src:o(f)(`${e.source}.png`),alt:e.name},null,8,be),t("div",xe,[t("div",null,l(e.name),1),t("div",null,"$ "+l(e.price),1)])],8,me)]))),128))]),t("div",{id:"pie",ref_key:"pie",ref:N,class:"border-b-2 border-black py-2 text-xl font-bold"},"塔派",512),t("div",he,[(n(!0),a(p,null,_(o(s).pies,e=>(n(),a("div",{key:e.name},[t("div",{class:"relative my-2 mr-2 cursor-pointer md:w-80",onClick:v=>x(e.name,e.price,e.time,e.source,e.material)},[t("img",{src:o(f)(`${e.source}.png`),alt:e.name},null,8,ye),t("div",ge,[t("div",null,l(e.name),1),t("div",null,"$ "+l(e.price),1)])],8,ke)]))),128))]),t("div",{id:"snack",ref_key:"snack",ref:T,class:"border-b-2 border-black py-2 text-xl font-bold"},"點心",512),t("div",we,[(n(!0),a(p,null,_(o(s).snacks,e=>(n(),a("div",{key:e.name},[t("div",{class:"relative my-2 mr-2 cursor-pointer md:w-80",onClick:v=>x(e.name,e.price,e.time,e.source,e.material)},[t("img",{src:o(f)(`${e.source}.png`),alt:e.name},null,8,$e),t("div",Se,[t("div",null,l(e.name),1),t("div",null,"$ "+l(e.price),1)])],8,Ce)]))),128))]),V(k,{modelValue:o(b),"onUpdate:modelValue":r[2]||(r[2]=e=>M(b)?b.value=e:null),width:o(O)},{footer:y(()=>[t("div",Ae,[V(d,{onClick:r[1]||(r[1]=e=>b.value=!1)},{default:y(()=>[W("關閉")]),_:1}),V(d,{type:"primary",onClick:R},{default:y(()=>[W(" 立即預約 ")]),_:1})])]),default:y(()=>[t("div",Ve,[t("div",Be,[t("img",{src:o(f)(`${o(S)}.png`),alt:o(u)},null,8,Ee)]),t("div",Pe,[t("div",Fe,[t("div",Ne,l(o(u)),1),t("div",Te,"預計耗時 : "+l(o(C))+"hr",1)]),je,o(u)==="生日蛋糕"?(n(),a("div",De," 備註:免費生日蛋糕優惠需搭配另一種類蛋糕使用 ")):z("",!0),o(u)==="生日蛋糕"?(n(),a("div",Me,[G(t("select",{"onUpdate:modelValue":r[0]||(r[0]=e=>M(m)?m.value=e:null),class:"my-1 w-full py-1 pl-2"},[We,(n(!0),a(p,null,_(o(s).allProducts,e=>(n(),a("option",{key:e.name,value:e.name},[t("div",null,l(e.name)+" - $"+l(e.price),1)],8,ze))),128))],512),[[H,o(m)]])])):z("",!0),Ue,t("div",null,[t("li",null," 主體: "+l(o(h).main),1),t("li",null," 內餡: "+l(o(h).filling),1),t("li",null," 裝飾: "+l(o(h).decoration),1)]),Ie,Le,t("div",Oe,"價格 : $ "+l(o($)),1)])]),Re]),_:1},8,["modelValue","width"])])}}});export{ot as default};
